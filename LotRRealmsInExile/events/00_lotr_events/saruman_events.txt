namespace = saruman

# Events about Saruman
#	saruman.0001	The Lord of Isengard - Introduction to Saruman.
#					(A) The rule of Isengard and its secrets are now mine.
#						Continue.
#					(B) I shall remain a vassal of the Lord Denethor of Minas Tirith.
#	saruman.0002	The Orthanc Stone
#					(A) I will find the One Ring. And bring order to Middle-earth.
#						Continue.
#						ToDo: Unlocks Decision - The Palantír. Decision starts next event.
#					(B) To gaze into the palantír is folly; Sauron seeks me.
#						ToDo: Unlocks Decision - The Palantír. Decision starts next event.
#	saruman.0003	The palantír - Saruman looks into the palantír.
#					(A) Saruman pledges alligence to you, lord Sauron.
#						Pledge alligence to Sauron, convert to the Counsels of Sauron.
#						Continue your search to claim the One Ring.
#					(B) You shall not have the Orthanc Stone, Dark Lord.
#						Strive against Sauron, wrest control over the Orthanc Stone.
#	saruman.0004	The palantír
#						ToDo: create decision and randomised event to gaze into the palantír.
#	saruman.0010 - Saruman becomes the Many Coloured.
#	saruman.0020 - Saruman forges a lesser ring of power. Repeatable, as he's got nine spare fingers.
#				   This event will not be in the first release (on hold).
#	saruman.0030 - Gandalf seeks Saruman's council.
#				   The Grey wizard is either imprisoned or Saruman returns to the light.
#	saruman.0040 - "Build me an army worthy of Mordor". Free Uruks.
#	saruman.0050 - Fangorn (unordered)
#	saruman.0060 - Dunlendings (unordered)
#	saruman.0070 - Invasion of Rohan
#	saruman.0080 - 
#	saruman.0090 - 


# available themes:
#	feast_activity
#	seduction
#	diplomacy
#	hunt_activity
#	default
#	pilgrimage
#	pilgrimage_activity
#	family
#	pregnancy
#	death
#	physical_health
#	healthcare
#	intrigue
#	crown
#	dungeon
#	intrigue
#	learning
#	martial
#	stewardship
#	realm
#	culture_change
#	war
#	faith
#	dynasty
#	skull
#	education
#	unfriendly
#	friendly
#	love
#	default
#	rival_relation
#	recovery
#	mental_health
#	bastardy
#	prison
#	vassal
#	stewardship_domain_focus
#		duty
#		wealth
#	intrigue_intimidation_focus
#		skulduggery
#		temptation
#	learning_theology_focus
#		medicine
#		scholarship


saruman.0001 = { # Introduction to Saruman.
	type = character_event
	title = saruman.0001.t
	desc = saruman.0001.desc
	theme = stewardship_domain_focus
	left_portrait = {
		character = root
		animation = personality_rational
	}
	# ToDo: Add Fréaláf or Beren or Théoden as right_portrait. With animation = brave.

	trigger = {
		is_independent_ruler = yes
	}
	on_trigger_fail = {
		if = {
			limit = { is_ai = no }
			trigger_event = {
				id = saruman.0001
				days = { 100 900 }
			}
		}
	}

	immediate = {
		play_music_cue = "mx_cue_general_crusade_event_1"
		# ToDo: Add Ring Maker event.
#		trigger_event = {
#			id = saruman.0003 # Ring Maker.
#			days = { 100 1200 }
#		}
	}

	option = { # The rule of Isengard and its secrets are now mine.
		name = saruman.0001.a
		custom_tooltip = saruman.0001.a.tt
		trigger_event = { # Introducing the palantír.
			id = saruman.0002
#			days = { 100 300 }
			days = { 2 20 }
		}
		ai_chance = {
			base = 100
		}
	}
#	option = { # I shall remain a vassal of the Lord Denethor of Minas Tirith.
#		name = saruman.0001.b
#		custom_tooltip = saruman.0001.b.tt
#		ai_chance = {
#			base = 0
#		}
#	}
}

saruman.0002 = { # The Orthanc Stone - Introducing the palantír.
	type = character_event
	title = saruman.0002.t
	desc = saruman.0002.desc
	theme = intrigue
	left_portrait = {
		character = root
		animation = brave
	}

	trigger = {
		is_independent_ruler = yes
	}
	on_trigger_fail = {
		if = {
			limit = { is_ai = no }
			trigger_event = {
				id = saruman.0002
				days = { 100 900 }
			}
		}
	}

	immediate = {
		play_music_cue = "mx_cue_secret"
	}
	option = { # I will find the One Ring. And bring order to Middle-earth.
		name = saruman.0002.a
		custom_tooltip = saruman.0002.a.tt
		trigger_event = { 
			id = saruman.0003 # Saruman looks into the palantír.
			days = { 2 20 }
		}
		ai_chance = {
			base = 100
		}
	}
#	option = { # To gaze into the palantír is folly; Sauron seeks me.
#		name = saruman.0002.b
#		custom_tooltip = saruman.0002.b.tt
#		ai_chance = {
#			base = 0
#		}
#	}
}

saruman.0003 = { # The palantír - Saruman looks into the palantír.
	type = character_event
	title = saruman.0003.t
	desc = saruman.0003.desc
	theme = intrigue
	left_portrait = {
		character = root
		animation = fear
	}

	trigger = {
		is_independent_ruler = yes
	}
	on_trigger_fail = {
		if = {
			limit = { is_ai = no }
			trigger_event = {
				id = saruman.0003
				days = { 100 900 }
			}
		}
	}

	immediate = {
		play_music_cue = "mx_cue_murder"
	}

	option = { # Pledge alligence to Sauron. Convert to the Forces of Evil.
		name = saruman.0003.a
		custom_tooltip = saruman.0003.a.tt

		character:6000053 = {
			set_character_faith = faith:counsel_of_sauron
			capital_county = {
				set_county_faith = faith:counsel_of_sauron
			}
			# ToDo: Add stress impact.
#			stress_impact = {
#				stubborn = medium_stress_impact_gain
#			}
		}
		trigger_event = { # Many Coloured.
			id = saruman.0010
#			days = { 100 300 }
			days = { 2 20 }
		}
		trigger_event = { # Build me an army.
			id = saruman.0040
#			days = { 300 900 }
			days = { 2 20 }
		}
#		character:sauron = {
#			add_opinion = {
#				modifier = pleased_opinion
#				target = root
#				opinion = 40
#			}
#		}
		ai_chance = {
			base = 100 # LotR: This should be tied to WotR mode.
		}
	}
	option = { # Strive against Sauron to wrest control over the Orthanc Stone from him.
		name = saruman.0003.b
		custom_tooltip = saruman.0003.a.tt

		character:6000053 = {
			add_dread = medium_dread_gain
			# ToDo: Add stress impact.
#			stress_impact = {
#				stubborn = major_stress_impact_gain
#			}
		}
#		character:sauron = {
#			add_opinion = {
#				modifier = hurt_opinion
#				target = root
#				opinion = -40
#			}
#		}
		ai_chance = {
			base = 0 # LotR: This should be tied to WotR mode.
		}
	}
}

saruman.0010 = { # Saruman becomes the Many Coloured.
	type = character_event
	title = saruman.0010.t
	desc = saruman.0010.desc
	theme = learning_scholarship_focus
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	
	trigger = {
		is_independent_ruler = yes
	}
	on_trigger_fail = {
		if = {
			limit = { is_ai = no }
			trigger_event = {
				id = saruman.0010
				days = { 100 900 }
			}
		}
	}

	immediate = {
		play_music_cue = "mx_cue_positive_effect"
		# ToDo: give positive effect to Isengard.
		character:6000053 = {
#			remove_nickname = nick_the_white
			give_nickname = nick_of_many_colors
			add_character_flag = {
				flag = had_nickname_event
			}
		}
	}
	option = {
		name = saruman.0010.a
	}
}



saruman.0040 = { # "Build me an army worthy of Mordor." Free Uruk-hai-sies.
	type = character_event
	title = saruman.0040.t
	desc = saruman.0040.desc
	theme = intrigue
	left_portrait = {
		character = root
		animation = personality_brave
	}

	trigger = {
		is_independent_ruler = yes
	}
	on_trigger_fail = {
		if = {
			limit = { is_ai = no }
			trigger_event = {
				id = saruman.0040
				days = { 100 900 }
			}
		}
	}

	immediate = {
	#ToDo: give title e_isengard_unleashed to Saruman.
#		character:6000053 = {
#			save_scope_as = saruman
#			title:e_isengard_unleashed = {
#				change_title_holder = {
#					holder = scope:saruman
#					change = scope:title_change
#				}
#			}
#		}
		form_isengard_unleashed_effect = yes
	}

	option = {
		name = saruman.0040.a
	}
}












