
##################################################
# Counter Skills

sb_CounterSkill_Diplomacy = {
	type = character

	# Diplomacy is scope:skill_a.
	text = {
		trigger = {
			scope:sb_skill_a = flag:diplomacy
			scope:sb_skill_c = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:diplomacy
			scope:sb_skill_c = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:diplomacy
			scope:sb_skill_c = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:diplomacy
			scope:sb_skill_c = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:diplomacy
			scope:sb_skill_c = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Diplomacy is scope:skill_b.
	text = {
		trigger = {
			scope:sb_skill_b = flag:diplomacy
			scope:sb_skill_a = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:diplomacy
			scope:sb_skill_a = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:diplomacy
			scope:sb_skill_a = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:diplomacy
			scope:sb_skill_a = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:diplomacy
			scope:sb_skill_a = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Diplomacy is scope:skill_c.
	text = {
		trigger = {
			scope:sb_skill_c = flag:diplomacy
			scope:sb_skill_b = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:diplomacy
			scope:sb_skill_b = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:diplomacy
			scope:sb_skill_b = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:diplomacy
			scope:sb_skill_b = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:diplomacy
			scope:sb_skill_b = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
}

sb_CounterSkill_Intrigue = {
	type = character

	# Intrigue is scope:skill_a.
	text = {
		trigger = {
			scope:sb_skill_a = flag:intrigue
			scope:sb_skill_c = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:intrigue
			scope:sb_skill_c = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:intrigue
			scope:sb_skill_c = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:intrigue
			scope:sb_skill_c = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:intrigue
			scope:sb_skill_c = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Intrigue is scope:skill_b.
	text = {
		trigger = {
			scope:sb_skill_b = flag:intrigue
			scope:sb_skill_a = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:intrigue
			scope:sb_skill_a = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:intrigue
			scope:sb_skill_a = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:intrigue
			scope:sb_skill_a = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:intrigue
			scope:sb_skill_a = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Intrigue is scope:skill_c.
	text = {
		trigger = {
			scope:sb_skill_c = flag:intrigue
			scope:sb_skill_b = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:intrigue
			scope:sb_skill_b = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:intrigue
			scope:sb_skill_b = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:intrigue
			scope:sb_skill_b = flag:learning
		}
		localization_key = sb_counterskill_learning
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:intrigue
			scope:sb_skill_b = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
}

sb_CounterSkill_Learning = {
	type = character

	# Learning is scope:skill_a.
	text = {
		trigger = {
			scope:sb_skill_a = flag:learning
			scope:sb_skill_c = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:learning
			scope:sb_skill_c = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:learning
			scope:sb_skill_c = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:learning
			scope:sb_skill_c = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_a = flag:learning
			scope:sb_skill_c = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Learning is scope:skill_b.
	text = {
		trigger = {
			scope:sb_skill_b = flag:learning
			scope:sb_skill_a = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:learning
			scope:sb_skill_a = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:learning
			scope:sb_skill_a = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:learning
			scope:sb_skill_a = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_b = flag:learning
			scope:sb_skill_a = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
	# Learning is scope:skill_c.
	text = {
		trigger = {
			scope:sb_skill_c = flag:learning
			scope:sb_skill_b = flag:diplomacy
		}
		localization_key = sb_counterskill_diplomacy
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:learning
			scope:sb_skill_b = flag:martial
		}
		localization_key = sb_counterskill_martial
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:learning
			scope:sb_skill_b = flag:stewardship
		}
		localization_key = sb_counterskill_stewardship
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:learning
			scope:sb_skill_b = flag:intrigue
		}
		localization_key = sb_counterskill_intrigue
	}
	text = {
		trigger = {
			scope:sb_skill_c = flag:learning
			scope:sb_skill_b = flag:prowess
		}
		localization_key = sb_counterskill_prowess
	}
}

##################################################
# Moves & Pieces


sb_RandomVerseType = {
	type = character
	random_valid = yes

	# Gambit
	text = { localization_key = sb_randommovetype_sonnet }
	# Cross
	text = { localization_key = sb_randommovetype_alexandrine }
	# Stratagem
	text = { localization_key = sb_randommovetype_ballad }
	# Feint
	text = { localization_key = sb_randommovetype_limerick }
	# Rush
	text = { localization_key = sb_randommovetype_alliterative }
}

sb_RandomFacialExpression = {
	type = character

	# They're smarmily confident.
	text = {
		trigger = {
			OR = {
				scope:sb_opponent = { has_trait = arrogant }
				sb_cumulative_skill_score_comparison_value <= -20
			}
		}
		localization_key = sb_randomfacialexpression_scornful
	}
	# They're confident.
	text = {
		trigger = {
			sb_cumulative_skill_score_comparison_value > -20
			sb_cumulative_skill_score_comparison_value <= -10
		}
		localization_key = sb_randomfacialexpression_confident
	}
	# They're ready for a fight.
	text = {
		trigger = {
			sb_cumulative_skill_score_comparison_value > -10
			sb_cumulative_skill_score_comparison_value <= 10
		}
		localization_key = sb_randomfacialexpression_fight
		#fallback = yes
	}
	# They're unsure.
	text = {
		trigger = {
			sb_cumulative_skill_score_comparison_value > 10
			sb_cumulative_skill_score_comparison_value <= 20
		}
		localization_key = sb_randomfacialexpression_unsure
	}
	# They're quailing.	
	text = {
		trigger = { sb_cumulative_skill_score_comparison_value > 20 }
		localization_key = sb_randomfacialexpression_quailing
	}
}
