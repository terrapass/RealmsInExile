### SAILING ###

damage_ship = { #ISSUE WITH BOAT HIRE DURATIONS
	if = {
		limit = {
			has_character_modifier = small_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = small_boat_modifier
		add_character_modifier = {
			modifier = small_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = medium_boat_modifier
		add_character_modifier = {
			modifier = medium_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
			has_character_flag = hired_a_boat
		}
		remove_character_modifier = large_boat_modifier
		add_character_modifier = {
			modifier = large_damaged_boat_modifier
			years = boat_hire_duration_years
		}
	}
	else_if = {
		limit = {
			has_character_modifier = small_boat_modifier
		}
		remove_character_modifier = small_boat_modifier
		add_character_modifier = small_damaged_boat_modifier
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
		}
		remove_character_modifier = medium_boat_modifier
		add_character_modifier = medium_damaged_boat_modifier	
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
		}
		remove_character_modifier = large_boat_modifier
		add_character_modifier = large_damaged_boat_modifier	
	}
}

repare_ship = {
	# If shiwreck, pay full amount!
	if = {
		limit = {
			has_character_flag = shipwreck
		}
		# Pay
		if = {
			limit = {
				has_character_modifier = small_damaged_boat_modifier						
			}
			has_character_modifier = small_boat_modifier
			remove_long_term_gold = small_boat_cost
		}
		else_if = {
			limit = {
				has_character_modifier = medium_damaged_boat_modifier
			}
			has_character_modifier = medium_boat_modifier
			remove_long_term_gold = medium_boat_cost
		}
		else_if = {
			limit = {
				has_character_modifier = large_damaged_boat_modifier
			}
			has_character_modifier = large_boat_modifier
			remove_long_term_gold = large_boat_cost
		}
		remove_character_flag = shipwreck
	}

	if = {
		limit = {
			NOR = {
				has_character_flag = shipwreck
			}
		}
		# Pay just reparations
		if = {
			limit = {
				has_character_modifier = small_damaged_boat_modifier						
			}
			has_character_modifier = small_boat_modifier
			remove_long_term_gold = small_boat_repair_cost
		}
		else_if = {
			limit = {
				has_character_modifier = medium_damaged_boat_modifier
			}
			has_character_modifier = medium_boat_modifier
			remove_long_term_gold = medium_boat_repair_cost
		}
		else_if = {
			limit = {
				has_character_modifier = large_damaged_boat_modifier
			}
			has_character_modifier = large_boat_modifier
			remove_long_term_gold = large_boat_repair_cost
		}
	}
}

return_charter = {
	
	# Get my money back after repairing
	if = {
		limit = {
			has_character_modifier = small_boat_modifier						
		}
		add_gold = small_boat_hire_cost
	}
	else_if = {
		limit = {
			has_character_modifier = medium_boat_modifier
		}
		add_gold = medium_boat_hire_cost
	}
	else_if = {
		limit = {
			has_character_modifier = large_boat_modifier
		}
		add_gold = large_boat_hire_cost
	}

	# There won't be any damaged version because we have just repaired it
	remove_character_flag = hired_a_boat
	remove_character_modifier = small_boat_modifier
	remove_character_modifier = medium_boat_modifier
	remove_character_modifier = large_boat_modifier
}

remove_boat = {	
	remove_character_modifier = small_damaged_boat_modifier
	remove_character_modifier = medium_damaged_boat_modifier
	remove_character_modifier = large_damaged_boat_modifier

	remove_character_modifier = small_boat_modifier
	remove_character_modifier = medium_boat_modifier
	remove_character_modifier = large_boat_modifier
}