
##################################################
# GENERIC TRIGGERS

# Note: this is a very stripped down trigger set. It's expected that it'll be parsed through something that parses out more typically unsuitable candidates (e.g., prisoners under most circumstances).
can_start_song_battle_trigger = {
	# Check for the usual stuff.
	can_start_board_game_eligibility_checks_trigger = yes
	# And filter out those who can never play a board game.
	bg_can_start_board_game_is_scope_banned_checks_trigger = no
}

can_start_song_battle_eligibility_checks_trigger = {
	# Only Elves and characters with magical abilities can do that
	OR = {
		is_elf = yes
		is_maiar = yes
		is_nazgul = yes
		has_trait = sorcerer_1
		has_trait = sorcerer_2
		has_trait = sorcerer_3
	}
}

bg_can_start_board_game_is_scope_banned_checks_trigger = {
	# Currently, we just *always* filter anyone who's already in a bout.
	exists = var:engaged_in_song_battle
}
