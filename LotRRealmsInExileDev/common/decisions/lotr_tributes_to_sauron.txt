### Haradrim Tribute ###

decision_sauron_tribute_haradrim = {
	title = decision_sauron_tribute_haradrim
	picture = "gfx/interface/illustrations/decisions/decision_oath_of_eorl.dds"
	major = yes
	ai_goal = yes

	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
	}

	selection_tooltip = decision_sauron_tribute_haradrim_tooltip
	desc = decision_sauron_tribute_haradrim_desc
	confirm_text = decision_sauron_tribute_haradrim_confirm
	
	is_shown = {
		is_landed = yes
		is_independent_ruler = yes
		culture_group = culture_group:lotr_haradrim_group
		character:lineofsauron = {
			is_alive = yes
		}
	}

	is_valid = {
		is_imprisoned = no
	}

	effect = {	
		save_scope_as = tributary
#		if = {
#			limit = {
#				NOT = { exists = global_var:haradrim_tribute_army }
#			}
#			character:lineofsauron = {
#				spawn_army = {
#					name = decision_haradrim_tribute_troops
#					save_scope_as = haradrim_tribute_troops
#					uses_supply = yes
#					inheritable = no
#					levies = 100
#					location = capital_province
#				}
#				set_global_variable = {
#					name = haradrim_tribute_army
#					value = scope:haradrim_tribute_troops
#				}
#			}	
#		}
		if = {
			limit = {
				highest_held_title_tier = tier_empire
			}
			remove_short_term_gold = 500
			character:lineofsauron = {
				spawn_army = {
					name = decision_haradrim_tribute_troops
					levies = 0
					men_at_arms = {
						type = war_mumak
						stacks = 2
					}	
#					army = global_var:haradrim_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}		
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_kingdom
			}
			remove_short_term_gold = 250
			character:lineofsauron = {
				spawn_army = {
					name = decision_haradrim_tribute_troops
					levies = 0
					men_at_arms = {
						type = war_mumak
						stacks = 1
					}
#					army = global_var:haradrim_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_duchy
			}
			remove_short_term_gold = 100
			character:lineofsauron = {
				spawn_army = {
					name = decision_haradrim_tribute_troops
					levies = 0	
					men_at_arms = {
						type = serpent_guard
						stacks = 1
					}
#					army = global_var:haradrim_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_county
			}
			remove_short_term_gold = 50
			character:lineofsauron = {
				add_gold = 50			
			}
		}

		character:lineofsauron = {
			add_truce_both_ways = { 
				character = root 
				years = 6 
				override = yes
				name = tributary_of_sauron_truce
			}
			every_vassal_or_below = {
				add_truce_one_way = { 
					character = root 
					years = 6 
					override = yes
					name = tributary_of_sauron_vassal_truce
				}
			}
		}
	}
	cooldown = { years = 5 }

}


### Dark Leofring Tribute ###

decision_sauron_tribute_leofring = {
	title = decision_sauron_tribute_leofring
	picture = "gfx/interface/illustrations/decisions/decision_oath_of_eorl.dds"
	major = yes
	ai_goal = yes

	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
	}

	selection_tooltip = decision_sauron_tribute_leofring_tooltip
	desc = decision_sauron_tribute_leofring_desc
	confirm_text = decision_sauron_tribute_leofring_confirm
	
	is_shown = {
		is_landed = yes
		is_independent_ruler = yes
		culture = culture:leofring
		OR = {
			faith = faith:faith_withered_court
			faith = faith:lidless_eye
		}
		character:lineofsauron = {
			is_alive = yes
		}
	}

	is_valid = {
		is_imprisoned = no
	}

	effect = {	
		save_scope_as = tributary
#		if = {
#			limit = {
#				NOT = { exists = global_var:leofring_tribute_army }
#			}
#			character:lineofsauron = {
#				spawn_army = {
#					name = decision_leofring_tribute_troops
#					save_scope_as = leofring_tribute_troops
#					uses_supply = yes
#					inheritable = no
#					levies = 100
#					location = capital_province
#				}
#				set_global_variable = {
#					name = leofring_tribute_army
#					value = scope:leofring_tribute_troops
#				}
#			}	
#		}
		if = {
			limit = {
				highest_held_title_tier = tier_empire
			}
			remove_short_term_gold = 500
			character:lineofsauron = {
				spawn_army = {
					name = decision_leofring_tribute_troops
					levies = 0
					men_at_arms = {
						type = mountain_riders
						stacks = 3
					}	
#					army = global_var:leofring_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}		
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_kingdom
			}
			remove_short_term_gold = 250
			character:lineofsauron = {
				spawn_army = {
					name = decision_leofring_tribute_troops
					levies = 0
					men_at_arms = {
						type = mountain_riders
						stacks = 2
					}
#					army = global_var:leofring_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_duchy
			}
			remove_short_term_gold = 100
			character:lineofsauron = {
				spawn_army = {
					name = decision_leofring_tribute_troops
					levies = 0	
					men_at_arms = {
						type = mountain_riders
						stacks = 1
					}
#					army = global_var:leofring_tribute_army
					location = capital_province
					inheritable = no
					uses_supply = yes	
				}				
			}
		}
		else_if = {
			limit = {
				highest_held_title_tier = tier_county
			}
			remove_short_term_gold = 50
			character:lineofsauron = {
				add_gold = 50			
			}
		}

		character:lineofsauron = {
			add_truce_both_ways = { 
				character = root 
				years = 6 
				override = yes
				name = tributary_of_sauron_truce
			}
			every_vassal_or_below = {
				add_truce_one_way = { 
					character = root 
					years = 6 
					override = yes
					name = tributary_of_sauron_vassal_truce
				}
			}
		}
	}
	cooldown = { years = 5 }

}