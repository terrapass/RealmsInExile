### Elven Racial Mechanics ###

decision_try_for_elven_child = {
	title = decision_try_for_elven_child
	picture = "gfx/interface/illustrations/decisions/decision_elf_love.dds"
	major = yes
	ai_goal = yes
	ai_potential = {
		always = yes
	}
	ai_will_do = { #Finesse this - JS
		base = 100
	}
	selection_tooltip = decision_try_for_elven_child_tooltip
	desc = decision_try_for_elven_child_desc
	confirm_text = decision_try_for_elven_child_confirm
	
	is_shown = {
		is_elf = yes
		primary_spouse = { is_elf = yes }
		is_married = yes
		NOR = { 
			has_character_flag = elf_childbirth_ongoing
			has_character_flag = elf_child_limit
			primary_spouse = { has_character_flag = elf_child_limit }
		}
	}
	
	is_valid = {
		#has_relation_soulmate = primary_spouse
		stress_level < 1
		is_at_war = no		
		NOR = { 
			has_character_modifier = elf_childraising_modifier
			primary_spouse = { has_character_modifier = elf_childraising_modifier }
		}
	}
	
	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
	}
	
	effect = {
		trigger_event = elven_racial.0001
		add_character_flag = elf_childbirth_ongoing
		primary_spouse = { add_character_flag = elf_childbirth_ongoing }
	}
	
}