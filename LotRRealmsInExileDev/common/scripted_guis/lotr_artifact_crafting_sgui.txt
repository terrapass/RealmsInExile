###############################
### Artifact related sGUI's ###
###############################

# Determines if player can open crafting GUI
can_craft_artifacts = {
	is_shown = {
		always = yes
	}
	
	is_valid = {
		has_trait = lifestyle_artifact_crafting
		NOT = { culture = culture:wastelands }
	}
}

# Clears all appropriate variables from the character
select_no_artifact_type = {
	is_valid = {
		has_variable = artifact_craft
	}
	effect = {
		debug_log = " Artifact Var removed "
		remove_crafting_artifact_variables = yes
	}
}

## Applies a var to a character to determine what TYPE of artifact he is crafting
select_weapon_artifact_type = {
	effect = {
		debug_log = " Weapon Var added "
		set_variable = {
			name = artifact_craft
			value = flag:weapon_artifact
		}
		set_variable = {
			name = artifact_visual
			value = flag:default_weapon
		}
		remove_pre_selected_material = yes
	}
}
select_armor_artifact_type = {
	effect = {
		debug_log = " Armor Var added "
		set_variable = {
			name = artifact_craft
			value = flag:armor_artifact
		}
		set_variable = {
			name = artifact_visual
			value = flag:default_armor
		}
		remove_pre_selected_material = yes
	}
}
select_regalia_artifact_type = {
	effect = {
		debug_log = " Regalia Var added "
		set_variable = {
			name = artifact_craft
			value = flag:regalia_artifact
		}
		set_variable = {
			name = artifact_visual
			value = flag:default_regalia
		}
		remove_pre_selected_material = yes
	}
}
select_helmet_artifact_type = {
	effect = {
		debug_log = " Helmet Var added "
		set_variable = {
			name = artifact_craft
			value = flag:helmet_artifact
		}
		set_variable = {
			name = artifact_visual
			value = flag:default_helmet
		}
		remove_pre_selected_material = yes
	}
}
select_trinket_artifact_type = {
	effect = {
		debug_log = " Trinket Var added "
		set_variable = {
			name = artifact_craft
			value = flag:trinket_artifact
		}
		set_variable = {
			name = artifact_visual
			value = flag:default_trinket
		}
		remove_pre_selected_material = yes
	}
}

#######################################
### Material (Metal) related sGUI's ###
#######################################

## Checks whether character can use a certain material (checks county modifiers)
mithril_crafting_modifier_county = {
	is_valid = {
		OR = {
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_mithril_province_modifier
			}
		}
	}
}
gold_crafting_modifier_county = {
	is_valid = { 
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_gold_province_modifier
			}
		}
	}
}
silver_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_silver_province_modifier
			}
		}
	}
}
steel_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_iron_province_modifier
			}
		}
	}
}
iron_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_iron_province_modifier
			}
		}
	}
}
bronze_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_copper_province_modifier
			}
		}
	}
}
copper_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_copper_province_modifier
			}
		}
	}
}
tin_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_tin_province_modifier
			}
		}
	}
}
lead_crafting_modifier_county = {
	is_valid = {
		OR = {
			has_variable = can_use_unavailable_materials
			contains_prospecting_modifier = {
				PROSPECTING_MODIFIER = prospecting_lead_province_modifier
			}
		}
	}
}

## Adds variable to character to determine what he is using to craft artifact with
mithril_crafting_modifier_material = {
	effect = {
		debug_log = " Mithril Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:mithril_crafting_modifier
		}

		add_artifact_crafting_material_var = yes
	}
}
gold_crafting_modifier_material = {
	effect = {
		debug_log = " Gold Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:gold_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_gold_province_modifier
			EXTRA_COST = 125
			DEFAULT_COST = 50
		}
		add_artifact_crafting_material_var = yes
	}
}
silver_crafting_modifier_material = {
	effect = {
		debug_log = " Silver Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:silver_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_silver_province_modifier
			EXTRA_COST = 125
			DEFAULT_COST = 50
		}
		add_artifact_crafting_material_var = yes
	}
}
steel_crafting_modifier_material = {
	effect = {
		debug_log = " Steel Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:steel_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_iron_province_modifier
			EXTRA_COST = 100
			DEFAULT_COST = 50
		}
		add_artifact_crafting_material_var = yes
	}
}
iron_crafting_modifier_material = {
	effect = {
		debug_log = " Iron Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:iron_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_iron_province_modifier
			EXTRA_COST = 75
			DEFAULT_COST = 30
		}
		add_artifact_crafting_material_var = yes
	}
}
bronze_crafting_modifier_material = {
	effect = {
		debug_log = " Bronze Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:bronze_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_copper_province_modifier
			EXTRA_COST = 75
			DEFAULT_COST = 30
		}
		add_artifact_crafting_material_var = yes
	}
}
copper_crafting_modifier_material = {
	effect = {
		debug_log = " Copper Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:copper_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_copper_province_modifier
			EXTRA_COST = 50
			DEFAULT_COST = 20
		}
		add_artifact_crafting_material_var = yes
	}
}
tin_crafting_modifier_material = {
	effect = {
		debug_log = " Tin Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:tin_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_tin_province_modifier
			EXTRA_COST = 50
			DEFAULT_COST = 20
		}
		add_artifact_crafting_material_var = yes
	}
}
lead_crafting_modifier_material = {
	effect = {
		debug_log = " Lead Var added "
		remove_artifact_crafting_material_var = yes
		set_variable = {
			name = used_material
			value = flag:lead_crafting_modifier
		}
		material_crafting_cost = {
			MODIFIER = prospecting_lead_province_modifier
			EXTRA_COST = 50
			DEFAULT_COST = 20
		}
		add_artifact_crafting_material_var = yes
	}
}

enable_buying_materials = {
	effect = {
		
		if = {
			limit = {
				NOT = { has_variable = can_use_unavailable_materials }
			}
			custom_tooltip = {
				text = enable_material_buying
				set_variable = can_use_unavailable_materials
			}
		}
		else = {
			if = {
				limit = { has_variable = can_use_unavailable_materials }
				custom_tooltip = {
					text = disable_material_buying
					remove_variable = can_use_unavailable_materials
				}
			}
		}
	}
}

#######################################
### Material (Gems) related sGUI's ###
#######################################

## Checks whether character can use a certain material (checks county modifiers)
elven_gems_crafting_county = {
	is_valid = {
		# culture = culture:noldor
		always = yes
	}
}
diamond_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_diamond_province_modifier }
		always = yes
	}
}
emerald_crafting_county = {
	is_valid = { 
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_emerald_province_modifier }
		always = yes
	}
}
sapphire_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_sapphire_province_modifier }
		always = yes
	}
}
ruby_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_ruby_province_modifier }
		always = yes
	}
}
amethyst_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_amethyst_province_modifier }
		always = yes
	}
}
onyx_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_onyx_province_modifier }
		always = yes
	}
}
peridot_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_peridot_province_modifier }
		always = yes
	}
}
quartz_crafting_county = {
	is_valid = {
		# contains_prospecting_modifier = { PROSPECTING_MODIFIER = prospecting_quartz_province_modifier }
		always = yes
	}
}

## Adds variable to character to determine what he is using to craft artifact with
elven_gems_crafting_material = {
	effect = {
		debug_log = " Elven Gems Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:elven_gems_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
diamond_crafting_material = {
	effect = {
		debug_log = " Diamond Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:diamond_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
emerald_crafting_material = {
	effect = {
		debug_log = " Emerald Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:emerald_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
sapphire_crafting_material = {
	effect = {
		debug_log = " Sapphire Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:sapphire_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
ruby_crafting_material = {
	effect = {
		debug_log = " Ruby Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:ruby_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
amethyst_crafting_material = {
	effect = {
		debug_log = " Amethyst Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:amethyst_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
onyx_crafting_material = {
	effect = {
		debug_log = " Onyx Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:onyx_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
peridot_crafting_material = {
	effect = {
		debug_log = " Peridot Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:peridot_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}
quartz_crafting_material = {
	effect = {
		debug_log = " Quartz Var added "
		remove_artifact_crafting_gem_var = yes
		set_variable = {
			name = used_gem
			value = flag:quartz_crafting_modifier
		}
		add_artifact_crafting_gem_var = yes
	}
}

##################################
### Base Stat Modifiers sGUI's ###
##################################

## Diplomacy 
artifact_diplomacy_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = diplomacy_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = { 
			VALUE = diplomacy_val 
			NAME = artifact_diplomacy
		}
	}
}
artifact_diplomacy_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = diplomacy_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = diplomacy_val 
			NAME = artifact_diplomacy
		}
	}
}

## Martial
artifact_martial_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = martial_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = {
			VALUE = martial_val 
			NAME = artifact_martial
		}
	}
}
artifact_martial_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = martial_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = martial_val 
			NAME = artifact_martial
		}
	}
}

## Stewardship
artifact_stewardship_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = stewardship_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = { 
			VALUE = stewardship_val 
			NAME = artifact_stewardship
		}
	}
}
artifact_stewardship_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = stewardship_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = stewardship_val 
			NAME = artifact_stewardship
		}
	}
}

## Intrigue
artifact_intrigue_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = intrigue_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = { 
			VALUE = intrigue_val 
			NAME = artifact_intrigue
		}
	}
}
artifact_intrigue_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = intrigue_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = intrigue_val 
			NAME = artifact_intrigue
		}
	}
}

## Learning
artifact_learning_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = learning_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = { 
			VALUE = learning_val 
			NAME = artifact_learning
		}
	}
}
artifact_learning_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = learning_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = learning_val 
			NAME = artifact_learning
		}
	}
}

## Prowesss
artifact_prowess_positive = {
	is_valid = {
		valid_increase_base_stat_modifier = { BASE_STAT = prowess_val }
	}
	effect = {
		artifact_crafting_modifier_effect_increase = { 
			VALUE = prowess_val 
			NAME = artifact_prowess
		}
	}
}
artifact_prowess_negative = {
	is_valid = {
		valid_decrease_base_stat_modifier = { BASE_STAT = prowess_val }
	}
	effect = {
		artifact_crafting_modifier_effect_decrease = { 
			VALUE = prowess_val
			NAME = artifact_prowess
		}
	}
}

###################################
### Enchanting Modifiers sGUI's ###
###################################

artifact_enchanting_modifier_positive = {
	saved_scopes = {
		player_scope
	}
	
	is_valid = {
		trigger_if = {  
			limit = { 
				switch = {
					trigger = root

					flag:artifact_knight_limit = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_knight_limit_value VALUE = 4 } 
						} 
					}
					flag:artifact_knight_effectiveness = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_knight_effectiveness_value VALUE = 12 } 
						} 
					}
					flag:artifact_controlled_province_advantage = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_controlled_province_advantage_value VALUE = 8 } 
						} 
					}
					flag:artifact_levy_reinforcement_rate_same_faith = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_levy_reinforcement_rate_same_faith_value VALUE = 12 } 
						} 
					}
					flag:artifact_negate_prowess_penalty_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_negate_prowess_penalty_add_value VALUE = 8 } 
						} 
					}
					flag:artifact_raid_speed = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_raid_speed_value VALUE = 12 } 
						} 
					}
					flag:artifact_enemy_hard_casualty_modifier = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_enemy_hard_casualty_modifier_value VALUE = 12 } 
						} 
					}
					flag:artifact_hard_casualty_modifier = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_hard_casualty_modifier_value VALUE = 12 } 
						} 
					}
					flag:artifact_heavy_cavalry_toughness = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_heavy_cavalry_toughness_value VALUE = 4 } 
						} 
					}
					flag:artifact_heavy_infantry_toughness = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_heavy_infantry_toughness_value VALUE = 4 } 
						} 
					}
					flag:artifact_retreat_losses = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_retreat_losses_value VALUE = 4 } 
						} 
					}
					flag:artifact_pursue_efficiency = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_pursue_efficiency_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_minor_prestige = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_minor_prestige_value VALUE = 8 } 
						} 
					}
					flag:artifact_monthly_prestige = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_prestige_value VALUE = 8 } 
						} 
					}
					flag:artifact_short_reign_duration_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_short_reign_duration_mult_value VALUE = 8 } 
						} 
					}
					flag:artifact_court_grandeur_baseline_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_court_grandeur_baseline_add_value VALUE = 6 } 
						} 
					}
					flag:artifact_dynasty_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_dynasty_opinion_value VALUE = 8 } 
						} 
					}
					flag:artifact_monthly_dynasty_prestige = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_dynasty_prestige_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_prestige_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_prestige_add_value VALUE = 8 } 
						} 
					}
					flag:artifact_monthly_prestige_gain_per_dread_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_prestige_gain_per_dread_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_prestige_gain_per_knight_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_prestige_gain_per_knight_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_prestige_gain_per_happy_powerful_vassal_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_tyranny = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_tyranny_value VALUE = 8 } 
						} 
					}
					flag:artifact_dread_gain_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_dread_gain_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_dread_baseline_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_dread_baseline_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_mercenary_hire_cost_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_mercenary_hire_cost_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_happy_powerful_vassal_tax_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_happy_powerful_vassal_tax_contribution_mult_value VALUE = 8 } 
						} 
					}
					flag:artifact_courtly_tax_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_courtly_tax_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_glory_hound_tax_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_glory_hound_tax_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_parochial_tax_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_parochial_tax_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_zealot_tax_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_zealot_tax_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_glory_hound_levy_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_glory_hound_levy_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_zealot_levy_contribution_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_zealot_levy_contribution_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_vassal_limit = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_vassal_limit_value VALUE = 8 } 
						} 
					}
					flag:artifact_courtly_vassal_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_courtly_vassal_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_glory_hound_vassal_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_glory_hound_vassal_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_parochial_vassal_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_parochial_vassal_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_zealot_vassal_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_zealot_vassal_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_powerful_vassal_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_powerful_vassal_opinion_value VALUE = 8 } 
						} 
					}
					flag:artifact_independent_ruler_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_independent_ruler_opinion_value VALUE = 8 } 
						} 
					}
					flag:artifact_men_at_arms_maintenance = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_men_at_arms_maintenance_value VALUE = 8 } 
						} 
					}
					flag:artifact_domain_tax_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_domain_tax_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_build_gold_cost = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_build_gold_cost_value VALUE = 4 } 
						} 
					}
					flag:artifact_courtier_and_guest_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_courtier_and_guest_opinion_value VALUE = 8 } 
						}
					}
					flag:artifact_attraction_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_attraction_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_build_time = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_build_time_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_income = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_income_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_piety = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_piety_value VALUE = 8 } 
						} 
					}
					flag:artifact_monthly_piety_gain_per_knight_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_piety_gain_per_knight_add_value VALUE = 3 } 
						} 
					}
					flag:artifact_domain_tax_same_faith_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_domain_tax_same_faith_mult_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_piety_gain_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_piety_gain_mult_value VALUE = 12 } 
						} 
					}
					flag:artifact_same_faith_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_same_faith_opinion_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_piety_from_buildings_mult = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_piety_from_buildings_mult_value VALUE = 12 } 
						} 
					}
					flag:artifact_clergy_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_clergy_opinion_value VALUE = 12 } 
						} 
					}
					flag:artifact_church_holding_build_gold_cost = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_church_holding_build_gold_cost_value VALUE = 12 } 
						} 
					}
					flag:artifact_different_faith_opinion = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_different_faith_opinion_value VALUE = 12 } 
						} 
					}
					flag:artifact_owned_hostile_scheme_success_chance_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_owned_hostile_scheme_success_chance_add_value VALUE = 12 } 
						} 
					}
					flag:artifact_owned_personal_scheme_success_chance_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_owned_personal_scheme_success_chance_add_value VALUE = 12 } 
						} 
					}
					flag:artifact_owned_scheme_secrecy_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_owned_scheme_secrecy_add_value VALUE = 12 } 
						} 
					}
					flag:artifact_hostile_scheme_power_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_hostile_scheme_power_add_value VALUE = 12 } 
						} 
					}
					flag:artifact_personal_scheme_power_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_personal_scheme_power_add_value VALUE = 12 } 
						} 
					}
					flag:artifact_fertility_gain = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_fertility_gain_value VALUE = 4 } 
						} 
					}
					flag:artifact_courting_scheme_power_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_courting_scheme_power_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_seduce_scheme_power_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_seduce_scheme_power_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_spouse_opinion_add = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_spouse_opinion_add_value VALUE = 4 } 
						} 
					}
					flag:artifact_stress_gain = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_stress_gain_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_diplomacy_lifestyle_xp = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_diplomacy_lifestyle_xp_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_martial_lifestyle_xp = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_martial_lifestyle_xp_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_stewardship_lifestyle_xp = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_stewardship_lifestyle_xp_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_intrigue_lifestyle_xp = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_intrigue_lifestyle_xp_value VALUE = 4 } 
						} 
					}
					flag:artifact_monthly_learning_lifestyle_xp = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_monthly_learning_lifestyle_xp_value VALUE = 4 } 
						} 
					}
					flag:artifact_health_gain = { 
						scope:player_scope = { 
							valid_increase_enchanting_modifier = { NAME = artifact_health_gain_value VALUE = 4 } 
						} 
					}
				}
			}
			always = no
		}
	}

	effect = {
		
		switch = {
			trigger = root

			flag:artifact_knight_limit = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_knight_limit VALUE = artifact_knight_limit } 
				} 
			}
			flag:artifact_knight_effectiveness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_knight_effectiveness VALUE = artifact_knight_effectiveness } 
				} 
			}
			flag:artifact_controlled_province_advantage = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_controlled_province_advantage VALUE = artifact_controlled_province_advantage } 
				} 
			}
			flag:artifact_levy_reinforcement_rate_same_faith = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_levy_reinforcement_rate_same_faith VALUE = artifact_levy_reinforcement_rate_same_faith } 
				} 
			}
			flag:artifact_negate_prowess_penalty_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_negate_prowess_penalty_add VALUE = artifact_negate_prowess_penalty_add } 
				} 
			}
			flag:artifact_raid_speed = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_raid_speed VALUE = artifact_raid_speed } 
				} 
			}
			flag:artifact_enemy_hard_casualty_modifier = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_enemy_hard_casualty_modifier VALUE = artifact_enemy_hard_casualty_modifier } 
				} 
			}
			flag:artifact_hard_casualty_modifier = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_hard_casualty_modifier VALUE = artifact_hard_casualty_modifier } 
				} 
			}
			flag:artifact_heavy_cavalry_toughness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_heavy_cavalry_toughness VALUE = artifact_heavy_cavalry_toughness } 
				} 
			}
			flag:artifact_heavy_infantry_toughness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_heavy_infantry_toughness VALUE = artifact_heavy_infantry_toughness } 
				} 
			}
			flag:artifact_retreat_losses = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_retreat_losses VALUE = artifact_retreat_losses } 
				} 
			}
			flag:artifact_pursue_efficiency = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_pursue_efficiency VALUE = artifact_pursue_efficiency } 
				} 
			}
			flag:artifact_monthly_minor_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_minor_prestige VALUE = artifact_monthly_minor_prestige } 
				} 
			}
			flag:artifact_monthly_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_prestige VALUE = artifact_monthly_prestige } 
				} 
			}
			flag:artifact_short_reign_duration_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_short_reign_duration_mult VALUE = artifact_short_reign_duration_mult } 
				} 
			}
			flag:artifact_court_grandeur_baseline_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_court_grandeur_baseline_add VALUE = artifact_court_grandeur_baseline_add } 
				} 
			}
			flag:artifact_dynasty_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_dynasty_opinion VALUE = artifact_dynasty_opinion } 
				} 
			}
			flag:artifact_monthly_dynasty_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_dynasty_prestige VALUE = artifact_monthly_dynasty_prestige } 
				} 
			}
			flag:artifact_monthly_prestige_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_prestige_add VALUE = artifact_monthly_prestige_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_dread_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_prestige_gain_per_dread_add VALUE = artifact_monthly_prestige_gain_per_dread_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_knight_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_prestige_gain_per_knight_add VALUE = artifact_monthly_prestige_gain_per_knight_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_happy_powerful_vassal_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add VALUE = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add } 
				} 
			}
			flag:artifact_monthly_tyranny = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_tyranny VALUE = artifact_monthly_tyranny } 
				} 
			}
			flag:artifact_dread_gain_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_dread_gain_mult VALUE = artifact_dread_gain_mult } 
				} 
			}
			flag:artifact_dread_baseline_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_dread_baseline_add VALUE = artifact_dread_baseline_add } 
				} 
			}
			flag:artifact_mercenary_hire_cost_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_mercenary_hire_cost_mult VALUE = artifact_mercenary_hire_cost_mult } 
				} 
			}
			flag:artifact_happy_powerful_vassal_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_happy_powerful_vassal_tax_contribution_mult VALUE = artifact_happy_powerful_vassal_tax_contribution_mult } 
				} 
			}
			flag:artifact_courtly_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_courtly_tax_contribution_mult VALUE = artifact_courtly_tax_contribution_mult } 
				} 
			}
			flag:artifact_glory_hound_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_glory_hound_tax_contribution_mult VALUE = artifact_glory_hound_tax_contribution_mult } 
				} 
			}
			flag:artifact_parochial_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_parochial_tax_contribution_mult VALUE = artifact_parochial_tax_contribution_mult } 
				} 
			}
			flag:artifact_zealot_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_zealot_tax_contribution_mult VALUE = artifact_zealot_tax_contribution_mult } 
				} 
			}
			flag:artifact_glory_hound_levy_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_glory_hound_levy_contribution_mult VALUE = artifact_glory_hound_levy_contribution_mult } 
				} 
			}
			flag:artifact_zealot_levy_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_zealot_levy_contribution_mult VALUE = artifact_zealot_levy_contribution_mult } 
				} 
			}
			flag:artifact_vassal_limit = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_vassal_limit VALUE = artifact_vassal_limit } 
				} 
			}
			flag:artifact_courtly_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_courtly_vassal_opinion VALUE = artifact_courtly_vassal_opinion } 
				} 
			}
			flag:artifact_glory_hound_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_glory_hound_vassal_opinion VALUE = artifact_glory_hound_vassal_opinion } 
				} 
			}
			flag:artifact_parochial_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_parochial_vassal_opinion VALUE = artifact_parochial_vassal_opinion } 
				} 
			}
			flag:artifact_zealot_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_zealot_vassal_opinion VALUE = artifact_zealot_vassal_opinion } 
				} 
			}
			flag:artifact_powerful_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_powerful_vassal_opinion VALUE = artifact_powerful_vassal_opinion } 
				} 
			}
			flag:artifact_independent_ruler_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_independent_ruler_opinion VALUE = artifact_independent_ruler_opinion } 
				} 
			}
			flag:artifact_men_at_arms_maintenance = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_men_at_arms_maintenance VALUE = artifact_men_at_arms_maintenance } 
				} 
			}
			flag:artifact_domain_tax_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_domain_tax_mult VALUE = artifact_domain_tax_mult } 
				} 
			}
			flag:artifact_build_gold_cost = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_build_gold_cost VALUE = artifact_build_gold_cost } 
				} 
			}
			flag:artifact_courtier_and_guest_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_courtier_and_guest_opinion VALUE = artifact_courtier_and_guest_opinion } 
				}
			}
			flag:artifact_attraction_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_attraction_opinion VALUE = artifact_attraction_opinion } 
				} 
			}
			flag:artifact_build_time = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_build_time VALUE = artifact_build_time } 
				} 
			}
			flag:artifact_monthly_income = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_income VALUE = artifact_monthly_income } 
				} 
			}
			flag:artifact_monthly_piety = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_piety VALUE = artifact_monthly_piety } 
				} 
			}
			flag:artifact_monthly_piety_gain_per_knight_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_piety_gain_per_knight_add VALUE = artifact_monthly_piety_gain_per_knight_add } 
				} 
			}
			flag:artifact_domain_tax_same_faith_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_domain_tax_same_faith_mult VALUE = artifact_domain_tax_same_faith_mult } 
				} 
			}
			flag:artifact_monthly_piety_gain_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_piety_gain_mult VALUE = artifact_monthly_piety_gain_mult } 
				} 
			}
			flag:artifact_same_faith_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_same_faith_opinion VALUE = artifact_same_faith_opinion } 
				} 
			}
			flag:artifact_monthly_piety_from_buildings_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_piety_from_buildings_mult VALUE = artifact_monthly_piety_from_buildings_mult } 
				} 
			}
			flag:artifact_clergy_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_clergy_opinion VALUE = artifact_clergy_opinion } 
				} 
			}
			flag:artifact_church_holding_build_gold_cost = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_church_holding_build_gold_cost VALUE = artifact_church_holding_build_gold_cost } 
				} 
			}
			flag:artifact_different_faith_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_different_faith_opinion VALUE = artifact_different_faith_opinion } 
				} 
			}
			flag:artifact_owned_hostile_scheme_success_chance_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_owned_hostile_scheme_success_chance_add VALUE = artifact_owned_hostile_scheme_success_chance_add } 
				} 
			}
			flag:artifact_owned_personal_scheme_success_chance_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_owned_personal_scheme_success_chance_add VALUE = artifact_owned_personal_scheme_success_chance_add } 
				} 
			}
			flag:artifact_owned_scheme_secrecy_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_owned_scheme_secrecy_add VALUE = artifact_owned_scheme_secrecy_add } 
				} 
			}
			flag:artifact_hostile_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_hostile_scheme_power_add VALUE = artifact_hostile_scheme_power_add } 
				} 
			}
			flag:artifact_personal_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_personal_scheme_power_add VALUE = artifact_personal_scheme_power_add } 
				} 
			}
			flag:artifact_fertility_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_fertility_gain VALUE = artifact_fertility_gain } 
				} 
			}
			flag:artifact_courting_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_courting_scheme_power_add VALUE = artifact_courting_scheme_power_add } 
				} 
			}
			flag:artifact_seduce_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_seduce_scheme_power_add VALUE = artifact_seduce_scheme_power_add } 
				} 
			}
			flag:artifact_spouse_opinion_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_spouse_opinion_add VALUE = artifact_spouse_opinion_add } 
				} 
			}
			flag:artifact_stress_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_stress_gain VALUE = artifact_stress_gain } 
				} 
			}
			flag:artifact_monthly_diplomacy_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_diplomacy_lifestyle_xp VALUE = artifact_monthly_diplomacy_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_martial_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_martial_lifestyle_xp VALUE = artifact_monthly_martial_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_stewardship_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_stewardship_lifestyle_xp VALUE = artifact_monthly_stewardship_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_intrigue_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_intrigue_lifestyle_xp VALUE = artifact_monthly_intrigue_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_learning_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_monthly_learning_lifestyle_xp VALUE = artifact_monthly_learning_lifestyle_xp } 
				} 
			}
			flag:artifact_health_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_increase = { NAME = artifact_health_gain VALUE = artifact_health_gain } 
				} 
			}
		}
	}
}

artifact_enchanting_modifier_negative = {
	saved_scopes = {
		player_scope
	}

	is_valid = {
		trigger_if = {  
			limit = { 
				switch = {
					trigger = root
		
					flag:artifact_knight_limit = { scope:player_scope = { NOT = { has_variable = artifact_knight_limit_value } } }
					flag:artifact_knight_effectiveness = { scope:player_scope = { NOT = { has_variable = artifact_knight_effectiveness_value } } }
					flag:artifact_controlled_province_advantage = { scope:player_scope = { NOT = { has_variable = artifact_controlled_province_advantage_value } } }
					flag:artifact_levy_reinforcement_rate_same_faith = { scope:player_scope = { NOT = { has_variable = artifact_levy_reinforcement_rate_same_faith_value } } }
					flag:artifact_negate_prowess_penalty_add = { scope:player_scope = { NOT = { has_variable = artifact_negate_prowess_penalty_add_value } } }
					flag:artifact_raid_speed = { scope:player_scope = { NOT = { has_variable = artifact_raid_speed_value } } }
					flag:artifact_enemy_hard_casualty_modifier = { scope:player_scope = { NOT = { has_variable = artifact_enemy_hard_casualty_modifier_value } } }
					flag:artifact_hard_casualty_modifier = { scope:player_scope = { NOT = { has_variable = artifact_hard_casualty_modifier_value } } }
					flag:artifact_heavy_cavalry_toughness = { scope:player_scope = { NOT = { has_variable = artifact_heavy_cavalry_toughness_value } } }
					flag:artifact_heavy_infantry_toughness = { scope:player_scope = { NOT = { has_variable = artifact_heavy_infantry_toughness_value } } }
					flag:artifact_retreat_losses = { scope:player_scope = { NOT = { has_variable = artifact_retreat_losses_value } } }
					flag:artifact_pursue_efficiency = { scope:player_scope = { NOT = { has_variable = artifact_pursue_efficiency_value } } }
					flag:artifact_monthly_minor_prestige = { scope:player_scope = { NOT = { has_variable = artifact_monthly_minor_prestige_value } } }
					flag:artifact_monthly_prestige = { scope:player_scope = { NOT = { has_variable = artifact_monthly_prestige_value } } }
					flag:artifact_short_reign_duration_mult = { scope:player_scope = { NOT = { has_variable = artifact_short_reign_duration_mult_value } } }
					flag:artifact_court_grandeur_baseline_add = { scope:player_scope = { NOT = { has_variable = artifact_court_grandeur_baseline_add_value } } }
					flag:artifact_dynasty_opinion = { scope:player_scope = { NOT = { has_variable = artifact_dynasty_opinion_value } } }
					flag:artifact_monthly_dynasty_prestige = { scope:player_scope = { NOT = { has_variable = artifact_monthly_dynasty_prestige_value } } }
					flag:artifact_monthly_prestige_add = { scope:player_scope = { NOT = { has_variable = artifact_monthly_prestige_add_value } } }
					flag:artifact_monthly_prestige_gain_per_dread_add = { scope:player_scope = { NOT = { has_variable = artifact_monthly_prestige_gain_per_dread_add_value } } }
					flag:artifact_monthly_prestige_gain_per_knight_add = { scope:player_scope = { NOT = { has_variable = artifact_monthly_prestige_gain_per_knight_add_value } } }
					flag:artifact_monthly_prestige_gain_per_happy_powerful_vassal_add = { scope:player_scope = { NOT = { has_variable = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add_value } } }
					flag:artifact_monthly_tyranny = { scope:player_scope = { NOT = { has_variable = artifact_monthly_tyranny_value } } }
					flag:artifact_dread_gain_mult = { scope:player_scope = { NOT = { has_variable = artifact_dread_gain_mult_value } } }
					flag:artifact_dread_baseline_add = { scope:player_scope = { NOT = { has_variable = artifact_dread_baseline_add_value } } }
					flag:artifact_mercenary_hire_cost_mult = { scope:player_scope = { NOT = { has_variable = artifact_mercenary_hire_cost_mult_value } } }
					flag:artifact_happy_powerful_vassal_tax_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_happy_powerful_vassal_tax_contribution_mult_value } } }
					flag:artifact_courtly_tax_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_courtly_tax_contribution_mult_value } } }
					flag:artifact_glory_hound_tax_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_glory_hound_tax_contribution_mult_value } } }
					flag:artifact_parochial_tax_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_parochial_tax_contribution_mult_value } } }
					flag:artifact_zealot_tax_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_zealot_tax_contribution_mult_value } } }
					flag:artifact_glory_hound_levy_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_glory_hound_levy_contribution_mult_value } } }
					flag:artifact_zealot_levy_contribution_mult = { scope:player_scope = { NOT = { has_variable = artifact_zealot_levy_contribution_mult_value } } }
					flag:artifact_vassal_limit = { scope:player_scope = { NOT = { has_variable = artifact_vassal_limit_value } } }
					flag:artifact_courtly_vassal_opinion = { scope:player_scope = { NOT = { has_variable = artifact_courtly_vassal_opinion_value } } }
					flag:artifact_glory_hound_vassal_opinion = { scope:player_scope = { NOT = { has_variable = artifact_glory_hound_vassal_opinion_value } } }
					flag:artifact_parochial_vassal_opinion = { scope:player_scope = { NOT = { has_variable = artifact_parochial_vassal_opinion_value } } }
					flag:artifact_zealot_vassal_opinion = { scope:player_scope = { NOT = { has_variable = artifact_zealot_vassal_opinion_value } } }
					flag:artifact_powerful_vassal_opinion = { scope:player_scope = { NOT = { has_variable = artifact_powerful_vassal_opinion_value } } }
					flag:artifact_independent_ruler_opinion = { scope:player_scope = { NOT = { has_variable = artifact_independent_ruler_opinion_value } } }
					flag:artifact_men_at_arms_maintenance = { scope:player_scope = { NOT = { has_variable = artifact_men_at_arms_maintenance_value } } }
					flag:artifact_domain_tax_mult = { scope:player_scope = { NOT = { has_variable = artifact_domain_tax_mult_value } } }
					flag:artifact_build_gold_cost = { scope:player_scope = { NOT = { has_variable = artifact_build_gold_cost_value } } }
					flag:artifact_courtier_and_guest_opinion = { scope:player_scope = { NOT = { has_variable = artifact_courtier_and_guest_opinion_value } } }
					flag:artifact_attraction_opinion = { scope:player_scope = { NOT = { has_variable = artifact_attraction_opinion_value } } }
					flag:artifact_build_time = { scope:player_scope = { NOT = { has_variable = artifact_build_time_value } } }
					flag:artifact_monthly_income = { scope:player_scope = { NOT = { has_variable = artifact_monthly_income_value } } }
					flag:artifact_monthly_piety = { scope:player_scope = { NOT = { has_variable = artifact_monthly_piety_value } } }
					flag:artifact_monthly_piety_gain_per_knight_add = { scope:player_scope = { NOT = { has_variable = artifact_monthly_piety_gain_per_knight_add_value } } }
					flag:artifact_domain_tax_same_faith_mult = { scope:player_scope = { NOT = { has_variable = artifact_domain_tax_same_faith_mult_value } } }
					flag:artifact_monthly_piety_gain_mult = { scope:player_scope = { NOT = { has_variable = artifact_monthly_piety_gain_mult_value } } }
					flag:artifact_same_faith_opinion = { scope:player_scope = { NOT = { has_variable = artifact_same_faith_opinion_value } } }
					flag:artifact_monthly_piety_from_buildings_mult = { scope:player_scope = { NOT = { has_variable = artifact_monthly_piety_from_buildings_mult_value } } }
					flag:artifact_clergy_opinion = { scope:player_scope = { NOT = { has_variable = artifact_clergy_opinion_value } } }
					flag:artifact_church_holding_build_gold_cost = { scope:player_scope = { NOT = { has_variable = artifact_church_holding_build_gold_cost_value } } }
					flag:artifact_different_faith_opinion = { scope:player_scope = { NOT = { has_variable = artifact_different_faith_opinion_value } } }
					flag:artifact_owned_hostile_scheme_success_chance_add = { scope:player_scope = { NOT = { has_variable = artifact_owned_hostile_scheme_success_chance_add_value } } }
					flag:artifact_owned_personal_scheme_success_chance_add = { scope:player_scope = { NOT = { has_variable = artifact_owned_personal_scheme_success_chance_add_value } } }
					flag:artifact_owned_scheme_secrecy_add = { scope:player_scope = { NOT = { has_variable = artifact_owned_scheme_secrecy_add_value } } }
					flag:artifact_hostile_scheme_power_add = { scope:player_scope = { NOT = { has_variable = artifact_hostile_scheme_power_add_value } } }
					flag:artifact_personal_scheme_power_add = { scope:player_scope = { NOT = { has_variable = artifact_personal_scheme_power_add_value } } }
					flag:artifact_fertility_gain = { scope:player_scope = { NOT = { has_variable = artifact_fertility_gain_value } } }
					flag:artifact_courting_scheme_power_add = { scope:player_scope = { NOT = { has_variable = artifact_courting_scheme_power_add_value } } }
					flag:artifact_seduce_scheme_power_add = { scope:player_scope = { NOT = { has_variable = artifact_seduce_scheme_power_add_value } } }
					flag:artifact_spouse_opinion_add = { scope:player_scope = { NOT = { has_variable = artifact_spouse_opinion_add_value } } }
					flag:artifact_stress_gain = { scope:player_scope = { NOT = { has_variable = artifact_stress_gain_value } } }
					flag:artifact_monthly_diplomacy_lifestyle_xp = { scope:player_scope = { NOT = { has_variable = artifact_monthly_diplomacy_lifestyle_xp_value } } }
					flag:artifact_monthly_martial_lifestyle_xp = { scope:player_scope = { NOT = { has_variable = artifact_monthly_martial_lifestyle_xp_value } } }
					flag:artifact_monthly_stewardship_lifestyle_xp = { scope:player_scope = { NOT = { has_variable = artifact_monthly_stewardship_lifestyle_xp_value } } }
					flag:artifact_monthly_intrigue_lifestyle_xp = { scope:player_scope = { NOT = { has_variable = artifact_monthly_intrigue_lifestyle_xp_value } } }
					flag:artifact_monthly_learning_lifestyle_xp = { scope:player_scope = { NOT = { has_variable = artifact_monthly_learning_lifestyle_xp_value } } }
					flag:artifact_health_gain = { scope:player_scope = { NOT = { has_variable = artifact_health_gain_value } } }
				}
			}
			always = no
		}
	}	

	effect = {
		switch = {
			trigger = root

			flag:artifact_knight_limit = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_knight_limit VALUE = artifact_knight_limit } 
				} 
			}
			flag:artifact_knight_effectiveness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_knight_effectiveness VALUE = artifact_knight_effectiveness } 
				} 
			}
			flag:artifact_controlled_province_advantage = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_controlled_province_advantage VALUE = artifact_controlled_province_advantage } 
				} 
			}
			flag:artifact_levy_reinforcement_rate_same_faith = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_levy_reinforcement_rate_same_faith VALUE = artifact_levy_reinforcement_rate_same_faith } 
				} 
			}
			flag:artifact_negate_prowess_penalty_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_negate_prowess_penalty_add VALUE = artifact_negate_prowess_penalty_add } 
				} 
			}
			flag:artifact_raid_speed = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_raid_speed VALUE = artifact_raid_speed } 
				} 
			}
			flag:artifact_enemy_hard_casualty_modifier = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_enemy_hard_casualty_modifier VALUE = artifact_enemy_hard_casualty_modifier } 
				} 
			}
			flag:artifact_hard_casualty_modifier = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_hard_casualty_modifier VALUE = artifact_hard_casualty_modifier } 
				} 
			}
			flag:artifact_heavy_cavalry_toughness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_heavy_cavalry_toughness VALUE = artifact_heavy_cavalry_toughness } 
				} 
			}
			flag:artifact_heavy_infantry_toughness = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_heavy_infantry_toughness VALUE = artifact_heavy_infantry_toughness } 
				} 
			}
			flag:artifact_retreat_losses = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_retreat_losses VALUE = artifact_retreat_losses } 
				} 
			}
			flag:artifact_pursue_efficiency = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_pursue_efficiency VALUE = artifact_pursue_efficiency } 
				} 
			}
			flag:artifact_monthly_minor_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_minor_prestige VALUE = artifact_monthly_minor_prestige } 
				} 
			}
			flag:artifact_monthly_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_prestige VALUE = artifact_monthly_prestige } 
				} 
			}
			flag:artifact_short_reign_duration_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_short_reign_duration_mult VALUE = artifact_short_reign_duration_mult } 
				} 
			}
			flag:artifact_court_grandeur_baseline_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_court_grandeur_baseline_add VALUE = artifact_court_grandeur_baseline_add } 
				} 
			}
			flag:artifact_dynasty_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_dynasty_opinion VALUE = artifact_dynasty_opinion } 
				} 
			}
			flag:artifact_monthly_dynasty_prestige = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_dynasty_prestige VALUE = artifact_monthly_dynasty_prestige } 
				} 
			}
			flag:artifact_monthly_prestige_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_prestige_add VALUE = artifact_monthly_prestige_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_dread_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_prestige_gain_per_dread_add VALUE = artifact_monthly_prestige_gain_per_dread_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_knight_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_prestige_gain_per_knight_add VALUE = artifact_monthly_prestige_gain_per_knight_add } 
				} 
			}
			flag:artifact_monthly_prestige_gain_per_happy_powerful_vassal_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add VALUE = artifact_monthly_prestige_gain_per_happy_powerful_vassal_add } 
				} 
			}
			flag:artifact_monthly_tyranny = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_tyranny VALUE = artifact_monthly_tyranny } 
				} 
			}
			flag:artifact_dread_gain_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_dread_gain_mult VALUE = artifact_dread_gain_mult } 
				} 
			}
			flag:artifact_dread_baseline_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_dread_baseline_add VALUE = artifact_dread_baseline_add } 
				} 
			}
			flag:artifact_mercenary_hire_cost_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_mercenary_hire_cost_mult VALUE = artifact_mercenary_hire_cost_mult } 
				} 
			}
			flag:artifact_happy_powerful_vassal_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_happy_powerful_vassal_tax_contribution_mult VALUE = artifact_happy_powerful_vassal_tax_contribution_mult } 
				} 
			}
			flag:artifact_courtly_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_courtly_tax_contribution_mult VALUE = artifact_courtly_tax_contribution_mult } 
				} 
			}
			flag:artifact_glory_hound_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_glory_hound_tax_contribution_mult VALUE = artifact_glory_hound_tax_contribution_mult } 
				} 
			}
			flag:artifact_parochial_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_parochial_tax_contribution_mult VALUE = artifact_parochial_tax_contribution_mult } 
				} 
			}
			flag:artifact_zealot_tax_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_zealot_tax_contribution_mult VALUE = artifact_zealot_tax_contribution_mult } 
				} 
			}
			flag:artifact_glory_hound_levy_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_glory_hound_levy_contribution_mult VALUE = artifact_glory_hound_levy_contribution_mult } 
				} 
			}
			flag:artifact_zealot_levy_contribution_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_zealot_levy_contribution_mult VALUE = artifact_zealot_levy_contribution_mult } 
				} 
			}
			flag:artifact_vassal_limit = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_vassal_limit VALUE = artifact_vassal_limit } 
				} 
			}
			flag:artifact_courtly_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_courtly_vassal_opinion VALUE = artifact_courtly_vassal_opinion } 
				} 
			}
			flag:artifact_glory_hound_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_glory_hound_vassal_opinion VALUE = artifact_glory_hound_vassal_opinion } 
				} 
			}
			flag:artifact_parochial_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_parochial_vassal_opinion VALUE = artifact_parochial_vassal_opinion } 
				} 
			}
			flag:artifact_zealot_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_zealot_vassal_opinion VALUE = artifact_zealot_vassal_opinion } 
				} 
			}
			flag:artifact_powerful_vassal_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_powerful_vassal_opinion VALUE = artifact_powerful_vassal_opinion } 
				} 
			}
			flag:artifact_independent_ruler_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_independent_ruler_opinion VALUE = artifact_independent_ruler_opinion } 
				} 
			}
			flag:artifact_men_at_arms_maintenance = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_men_at_arms_maintenance VALUE = artifact_men_at_arms_maintenance } 
				} 
			}
			flag:artifact_domain_tax_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_domain_tax_mult VALUE = artifact_domain_tax_mult } 
				} 
			}
			flag:artifact_build_gold_cost = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_build_gold_cost VALUE = artifact_build_gold_cost } 
				} 
			}
			flag:artifact_courtier_and_guest_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_courtier_and_guest_opinion VALUE = artifact_courtier_and_guest_opinion } 
				}
			}
			flag:artifact_attraction_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_attraction_opinion VALUE = artifact_attraction_opinion } 
				} 
			}
			flag:artifact_build_time = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_build_time VALUE = artifact_build_time } 
				} 
			}
			flag:artifact_monthly_income = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_income VALUE = artifact_monthly_income } 
				} 
			}
			flag:artifact_monthly_piety = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_piety VALUE = artifact_monthly_piety } 
				} 
			}
			flag:artifact_monthly_piety_gain_per_knight_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_piety_gain_per_knight_add VALUE = artifact_monthly_piety_gain_per_knight_add } 
				} 
			}
			flag:artifact_domain_tax_same_faith_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_domain_tax_same_faith_mult VALUE = artifact_domain_tax_same_faith_mult } 
				} 
			}
			flag:artifact_monthly_piety_gain_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_piety_gain_mult VALUE = artifact_monthly_piety_gain_mult } 
				} 
			}
			flag:artifact_same_faith_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_same_faith_opinion VALUE = artifact_same_faith_opinion } 
				} 
			}
			flag:artifact_monthly_piety_from_buildings_mult = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_piety_from_buildings_mult VALUE = artifact_monthly_piety_from_buildings_mult } 
				} 
			}
			flag:artifact_clergy_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_clergy_opinion VALUE = artifact_clergy_opinion } 
				} 
			}
			flag:artifact_church_holding_build_gold_cost = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_church_holding_build_gold_cost VALUE = artifact_church_holding_build_gold_cost } 
				} 
			}
			flag:artifact_different_faith_opinion = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_different_faith_opinion VALUE = artifact_different_faith_opinion } 
				} 
			}
			flag:artifact_owned_hostile_scheme_success_chance_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_owned_hostile_scheme_success_chance_add VALUE = artifact_owned_hostile_scheme_success_chance_add } 
				} 
			}
			flag:artifact_owned_personal_scheme_success_chance_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_owned_personal_scheme_success_chance_add VALUE = artifact_owned_personal_scheme_success_chance_add } 
				} 
			}
			flag:artifact_owned_scheme_secrecy_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_owned_scheme_secrecy_add VALUE = artifact_owned_scheme_secrecy_add } 
				} 
			}
			flag:artifact_hostile_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_hostile_scheme_power_add VALUE = artifact_hostile_scheme_power_add } 
				} 
			}
			flag:artifact_personal_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_personal_scheme_power_add VALUE = artifact_personal_scheme_power_add } 
				} 
			}
			flag:artifact_fertility_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_fertility_gain VALUE = artifact_fertility_gain } 
				} 
			}
			flag:artifact_courting_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_courting_scheme_power_add VALUE = artifact_courting_scheme_power_add } 
				} 
			}
			flag:artifact_seduce_scheme_power_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_seduce_scheme_power_add VALUE = artifact_seduce_scheme_power_add } 
				} 
			}
			flag:artifact_spouse_opinion_add = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_spouse_opinion_add VALUE = artifact_spouse_opinion_add } 
				} 
			}
			flag:artifact_stress_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_stress_gain VALUE = artifact_stress_gain } 
				} 
			}
			flag:artifact_monthly_diplomacy_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_diplomacy_lifestyle_xp VALUE = artifact_monthly_diplomacy_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_martial_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_martial_lifestyle_xp VALUE = artifact_monthly_martial_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_stewardship_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_stewardship_lifestyle_xp VALUE = artifact_monthly_stewardship_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_intrigue_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_intrigue_lifestyle_xp VALUE = artifact_monthly_intrigue_lifestyle_xp } 
				} 
			}
			flag:artifact_monthly_learning_lifestyle_xp = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_monthly_learning_lifestyle_xp VALUE = artifact_monthly_learning_lifestyle_xp } 
				} 
			}
			flag:artifact_health_gain = { 
				scope:player_scope = { 
					artifact_crafting_enchanting_modifier_decrease = { NAME = artifact_health_gain VALUE = artifact_health_gain } 
				} 
			}
		}
	}
}

##############################
### Crafting Artifact sGUI ###
##############################

craft_artifact = {
	is_valid = {
		custom_tooltip = {
			text = select_crafting_material_tooltip
			AND = {
				has_variable = used_material
				NOT = {
					var:used_material = flag:no_material
				}
			}
		}

		trigger_if = {
			limit = { exists = var:total_gold_cost }
			custom_tooltip = {
				text = disable_crafting_no_gold
				trigger_if = {
					limit = {
						gold < var:total_gold_cost
					}
					always = no
				}
			}
		}
	}

	effect = {
		root = { save_scope_as = owner }
		set_artifact_rarity_masterwork = yes

		if = {
			limit = { exists = var:random_variable }
			if = { ## Success with crafting artifact
				limit = { var:random_variable < total_success_chance }

				if = { ### Critical success
					limit = { var:random_variable < calc_out_of_100_crit_success_chance }
					custom_tooltip = {
						text = artifact_crafting_craft_tooltip
						add_crafting_trait_track_xp_effect = {
							XP_AMOUNT = artifact_craft_normal_xp
						}
						hidden_effect = {
							send_interface_toast = {
								title = artifact_crafting_critical_success_craft
								left_icon = root
								
								create_appropriate_artifact = yes
								# create_crafted_trinket_effect = yes

								custom_tooltip = artifact_crafting_advanced_xp_gain
							}
						}
					}
				}
				else = { ### Normal success
					if = {
						limit = { var:random_variable < calc_out_of_100_success_chance }
						custom_tooltip = {
							text = artifact_crafting_craft_tooltip
							add_crafting_trait_track_xp_effect = {
								XP_AMOUNT = artifact_craft_normal_xp
							}
							hidden_effect = {
								send_interface_toast = {
									title = artifact_crafting_normal_success_craft
									left_icon = root

									create_appropriate_artifact = yes
									# create_crafted_trinket_effect = yes

									custom_tooltip = artifact_crafting_normal_xp_gain
								}
							}
						}
					}
				}
			}
			else = { ## Failure with crafting artifact
				if = { ### Critical Failure
					limit = { var:random_variable > critical_failure_chance }
					custom_tooltip = {
						text = artifact_crafting_craft_tooltip
						add_crafting_trait_track_xp_effect = {
							XP_AMOUNT = artifact_craft_failed_xp
						}
						send_interface_toast = {
							title = artifact_crafting_critical_failure_craft
							left_icon = root
							custom_tooltip = artifact_crafting_failed_xp_gain
						}
					}
				}
				else = { ### Normal Failure
					if = {
						limit = { var:random_variable > total_success_chance }
						custom_tooltip = {
							text = artifact_crafting_craft_tooltip
							add_crafting_trait_track_xp_effect = {
								XP_AMOUNT = artifact_craft_failed_xp
							}
							hidden_effect = {
								send_interface_toast = {
									title = artifact_crafting_normal_failure_craft
									left_icon = root

									create_appropriate_artifact = yes
									# create_crafted_trinket_effect = yes

									custom_tooltip = artifact_crafting_failed_xp_gain
								}
							}
						}
					}
				}
			}
		}
						
		if = { # Adds modifiers to artifact
			limit = { exists = scope:newly_crafted_artifact }
			add_artifact_modifier_effect = yes
		}
		remove_crafting_artifact_variables = yes
	}
}

###############################
### Selectable Icons sGUI's ###
###############################

select_artifact_icon = {
	saved_scopes = {
		player_scope
	}

	effect = {
		switch = {
			trigger = root

			###############
			### Weapons ###
			###############

			### Swords ###
			flag:dalish_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = dalish_sword } } }
			flag:avari_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = avari_sword } } }
			flag:silvan_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = silvan_sword } } }
			flag:rohirrim_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = rohirrim_sword } } }
			flag:northern_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = northern_sword } } }
			flag:gondorian_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = gondorian_sword } } }
			flag:noldor_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = noldor_sword } } }
			flag:gundabad_orc_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = gundabad_orc_sword } } }
			flag:default_weapon = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_weapon } } }
			flag:isengard_urukhai_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = isengard_urukhai_sword } } }
			flag:african_sword = { scope:player_scope = { add_artifact_icon_variable = { NAME = african_sword } } }

			### Daggers ###
			flag:gondorian_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = gondorian_dagger } } }
			flag:silvan_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = silvan_dagger } } }
			flag:rohirrim_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = rohirrim_dagger } } }
			flag:default_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_dagger } } }
			flag:avari_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = avari_dagger } } }
			flag:dalish_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = dalish_dagger } } }
			flag:noldor_dagger = { scope:player_scope = { add_artifact_icon_variable = { NAME = noldor_dagger } } }

			### Spears ###
			flag:gundabad_orc_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = gundabad_orc_spear } } }
			flag:dalish_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = dalish_spear } } }
			flag:avari_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = avari_spear } } }
			flag:silvan_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = silvan_spear } } }
			flag:rohirrim_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = rohirrim_spear } } }
			flag:noldor_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = noldor_spear } } }
			flag:default_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_spear } } }
			flag:gondorian_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = gondorian_spear } } }
			flag:isengard_urukhai_spear = { scope:player_scope = { add_artifact_icon_variable = { NAME = isengard_urukhai_spear } } }

			### Axes ###
			flag:steppe_axe = { scope:player_scope = { add_artifact_icon_variable = { NAME = steppe_axe } } }
			flag:default_axe = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_axe } } }
			flag:gondorian_axe = { scope:player_scope = { add_artifact_icon_variable = { NAME = gondorian_axe } } }
			flag:rohirrim_axe = { scope:player_scope = { add_artifact_icon_variable = { NAME = rohirrim_axe } } }
			flag:african_axe = { scope:player_scope = { add_artifact_icon_variable = { NAME = african_axe } } }

			### Maces ###
			flag:byzantine_mace = { scope:player_scope = { add_artifact_icon_variable = { NAME = byzantine_mace } } }
			flag:steppe_mace = { scope:player_scope = { add_artifact_icon_variable = { NAME = steppe_mace } } }
			flag:dalish_mace = { scope:player_scope = { add_artifact_icon_variable = { NAME = dalish_mace } } }
			flag:default_mace = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_mace } } }

			### Hammers ###
			flag:default_hammer = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_hammer } } }

			### Longsword ###
			flag:default_longsword = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_longsword } } }

			################
			### Trinkets ###
			################

			flag:default_trinket = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_trinket } } }
			flag:necklace = { scope:player_scope = { add_artifact_icon_variable = { NAME = necklace } } }
			flag:medallion = { scope:player_scope = { add_artifact_icon_variable = { NAME = medallion } } }
			flag:cabinet_trinket = { scope:player_scope = { add_artifact_icon_variable = { NAME = cabinet_trinket } } }
			flag:pocket_figurine = { scope:player_scope = { add_artifact_icon_variable = { NAME = pocket_figurine } } }
			flag:pocket_goblet = { scope:player_scope = { add_artifact_icon_variable = { NAME = pocket_goblet } } }
			flag:pocket_basic_case = { scope:player_scope = { add_artifact_icon_variable = { NAME = pocket_basic_case } } }
			
			flag:default_armor = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_armor } } }
			flag:default_regalia = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_regalia } } }
			flag:default_helmet = { scope:player_scope = { add_artifact_icon_variable = { NAME = default_helmet } } }
		}
	}
}

#################################
### Change Description + Name ###
#################################

change_artifact_name = {
	effect = {
		set_variable = artifact_name
		trigger_event = crafting_mechanic.0001
	}
}

change_artifact_description = {
	effect = {
		set_variable = artifact_description
		trigger_event = crafting_mechanic.0002
	}
}