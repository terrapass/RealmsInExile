
can_craft_artifacts = {
	is_shown = {
		OR = {
			has_trait = lifestyle_artifact_crafting
		}
	}
	
	is_valid = {
		always = yes
	}
}

select_weapon_artifact_type = {
	effect = {
		set_variable = {
			name = artifact_craft
			value = flag:weapon_artifact
		}
	}
}

select_armor_artifact_type = {
	effect = {
		set_variable = {
			name = artifact_craft
			value = flag:armor_artifact
		}
	}
}

select_regalia_artifact_type = {
	effect = {
		set_variable = {
			name = artifact_craft
			value = flag:regalia_artifact
		}
	}
}

select_helmet_artifact_type = {
	effect = {
		set_variable = {
			name = artifact_craft
			value = flag:helmet_artifact
		}
	}
}

select_trinket_artifact_type = {
	effect = {
		set_variable = {
			name = artifact_craft
			value = flag:trinket_artifact
		}
	}
}

clear_crafting_artifact_var = {
	effect = {
		remove_variable = artifact_craft
	}
}

generate_materials_list_on_start = {
	clear_global_variable_list = global_crafting_materials_list
	add_to_global_variable_list = {
		name = global_crafting_materials_list
		target = flag:gold
	}
	add_to_global_variable_list = {
		name = global_crafting_materials_list
		target = flag:silver
	}
	add_to_global_variable_list = {
		name = global_crafting_materials_list
		target = flag:mithril
	}
	add_to_global_variable_list = {
		name = global_crafting_materials_list
		target = flag:iron
	}
}

generate_artifact_type_list_on_start = {
	clear_global_variable_list = global_artifact_types_list
	add_to_global_variable_list = {
		name = global_artifact_types_list
		target = flag:weapon
	}
	add_to_global_variable_list = {
		name = global_artifact_types_list
		target = flag:helmet
	}
	add_to_global_variable_list = {
		name = global_artifact_types_list
		target = flag:armor
	}
	add_to_global_variable_list = {
		name = global_artifact_types_list
		target = flag:regalia
	}
	add_to_global_variable_list = {
		name = global_artifact_types_list
		target = flag:trinket
	}
}