namespace = nelornieth

##################
### Nelornieth ###
##################

### Diplomatic missions
# 0001 -> XXXX / Lasgalen
# 0021 -> XXXX / Lorien
# 0101 -> XXXX / Pool of random events

nelornieth.0001 = { # Lasgalen introduction
    title = nelornieth.0001.t
    desc = nelornieth.0001.desc

    type = character_event
    theme = realm
    left_portrait = {
		character = root
		animation = personality_honorable
	}
    right_portrait = {
		character = scope:lasgalenking
		animation = personality_honorable
	}

    immediate = {
		if = {
			limit = { exists = title:k_lasgalen.holder }
			title:k_lasgalen.holder = {
				save_scope_as = lasgalenking
			}
		}
	}

    option = {
        name = nelornieth.0001.a
        custom_tooltip = nelornieth.0001.a.tt

        trigger_event = {
            id = nelornieth.0002
            days = 3
        }
    }
}

nelornieth.0002 = { # Choice of the ambassador
    title = nelornieth.0002.t
    desc = nelornieth.0002.desc

    type = character_event
    theme = realm
    left_portrait = {
		character = root
		animation = personality_honorable
	}
    right_portrait = {
		character = scope:chancellor
		animation = personality_content
	}

    immediate = {
		cp:councillor_chancellor = { save_scope_as = chancellor }
        cp:councillor_steward = { save_scope_as = steward }
        cp:councillor_spymaster = { save_scope_as = spymaster }
        cp:councillor_marshal = { save_scope_as = marshal }
	}

    option = { # Send the chancellor
        name = nelornieth.0002.a
        custom_tooltip = nelornieth.0002.a.tt
        trigger = { exists = scope:chancellor }
        scope:chancellor = { save_scope_as = ambassador }

        title:k_lasgalen.holder = {
            trigger_event = {
                id = nelornieth.0003
                days = 30
            }
        }
    }
    option = { # Send the steward
        name = nelornieth.0002.b
        custom_tooltip = nelornieth.0002.a.tt
        trigger = { exists = scope:steward }
        scope:steward = { save_scope_as = ambassador }

        title:k_lasgalen.holder = {
            trigger_event = {
                id = nelornieth.0003
                days = 30
            }
        }
    }
    option = { # Send the marshal
        name = nelornieth.0002.c
        custom_tooltip = nelornieth.0002.a.tt
        trigger = { exists = scope:marshal }
        scope:marshal = { save_scope_as = ambassador }

        title:k_lasgalen.holder = {
            trigger_event = {
                id = nelornieth.0003
                days = 30
            }
        }
    }
    option = { # Send the spymaster
        name = nelornieth.0002.d
        custom_tooltip = nelornieth.0002.a.tt
        trigger = { exists = scope:spymaster }
        scope:spymaster = { save_scope_as = ambassador }

        title:k_lasgalen.holder = {
            trigger_event = {
                id = nelornieth.0003
                days = 30
            }
        }
    }
    option = { # Forget it
        name = nelornieth.0002.e
        custom_tooltip = nelornieth.0002.e.tt
    }
}

nelornieth.0003 = { # Thranduil receive the ambassador
    title = nelornieth.0003.t
    desc = nelornieth.0003.desc

    type = character_event
    theme = realm
    left_portrait = {
		character = root
		animation = personality_honorable
	}
    right_portrait = {
		character = scope:ambassador
		animation = personality_content
	}

    option = {
        name = nelornieth.0003.a
    }
}