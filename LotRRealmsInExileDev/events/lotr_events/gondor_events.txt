namespace = gondor

# Events about Denethor
#		gondor.0100	The Steward of Gondor - Introduction to Denethor.

# Events about Boromir
#		gondor.0200	The Captain of Gondor - Introduction to Boromir.

# Events about Faramir
#		gondor.0300	The Rangers of Ithilien - Introduction to Faramir.

# Events about Dol Amroth
#		gondor.0400	The Princedom of Dol Amroth - Introduction to Dol Amroth.

# Events about Aragorn
#		gondor.0500-517	The Return of the King? - Aragorn's reclamation of Gondor's throne.


#### Events about Denethor

gondor.0100 = { # Introduction to Denethor.
	title = gondor.0100.t
	desc = gondor.0100.desc
	theme = stewardship_duty_focus
	left_portrait = {
		character = root
		animation = worry
	}
	
	option = { # There is an Evil in Mordor that does not sleep.
		name = gondor.0100.a
		custom_tooltip = gondor.0100.a.tt
		character:linesteward39 = { # Boromir intro
			trigger_event = {
				id = gondor.0200
				days = 5
			}
		}
		character:linesteward40 = { # Faramir intro
			trigger_event = {
				id = gondor.0300
				days = 5
			}
		}
		character:dolamroth24 = { # Dol Amroth intro
			trigger_event = {
				id = gondor.0400
				days = 5
			}
		}
	}
}

#### Events about Boromir

gondor.0200 = { # Introduction to Boromir.
	title = gondor.0200.t
	desc = gondor.0200.desc
	theme = martial
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { 
		name = gondor.0200.a
		spawn_army = {		 
			uses_supply = no
			inheritable = yes
			name = gondorian_honorguard_force
			men_at_arms = {
				type = guard_of_the_citadel
				stacks = 3
			}
			men_at_arms = {
				type = gondorian_knights
				stacks = 3
			}
			location = capital_province
		}
	}
}

#### Events about Faramir

gondor.0300 = { # Introduction to Faramir.
	title = gondor.0300.t
	desc = gondor.0300.desc
	theme = martial
	left_portrait = {
		character = root
		animation = personality_content
	}
	
	option = { 
		name = gondor.0300.a
		spawn_army = {		 
			uses_supply = no
			inheritable = yes
			name = ithilien_rangers_force
			men_at_arms = {
				type = rangers_of_ithilien
				stacks = 5
			}
			location = capital_province
		}
	}
}

#### Events about Dol Amroth

gondor.0400 = { # Introduction to Dol Amroth.
	title = gondor.0400.t
	desc = gondor.0400.desc
	theme = diplomacy_majesty_focus
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { 
		name = gondor.0400.a
		spawn_army = {		 
			uses_supply = no
			inheritable = yes
			name = swan_knights_force
			men_at_arms = {
				type = swan_knights
				stacks = 5
			}
			men_at_arms = {
				type = talon_knights
				stacks = 5
			}
			location = capital_province
		}
	}
}

#### Events about Aragorn

## The Return of the King 
gondor.0500 = { 
	title = gondor.0500.t
	desc = gondor.0500.desc
	theme = diplomacy_majesty_focus
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { 
		name = gondor.0500.a # It is time...
		character:linesteward38 = { # Denethor reacts
			trigger_event = {
				id = gondor.0501
				days = 15
			}
		}
	}
}

gondor.0501 = { # Denethor reacts to Aragorn's return
	title = gondor.0501.t
	desc = gondor.0501.desc
	theme = stewardship_duty_focus
	left_portrait = {
		character = root
		animation = worry
	}
	
	option = { 
		name = gondor.0501.a # I have no choice but to accept.
		character:lineisildur42 = { # Aragorn is allowed into Minas Tirith
			trigger_event = {
				id = gondor.0502
				days = 2
			}
		}
		hidden_effect = { 
			get_title = title:c_osgiliath
		}
		ai_chance = {
			base = 0
		}
	}
	option = { 
		name = gondor.0501.b # Denethor refuses
		trigger_event = {
			id = gondor.0503 # Denethor is overthrown by the citizens and guards of Minas Tirith
			days = 2
		}
		ai_chance = {
			base = 100
		}
	}
}

gondor.0502 = { # Aragorn is allowed into Minas Tirith and is coronated
	title = gondor.0502.t
	desc = gondor.0502.desc
	theme = diplomacy_majesty_focus
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { 
		name = gondor.0502.a # Gondor kingdom restored and given to Aragorn 
		set_culture = culture:gondorian
		create_title_and_vassal_change = {
			type = created
			save_scope_as = change
			add_claim_on_loss = no
		}
		title:e_gondor = {
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
		title:d_minas_tirith = {
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
		title:c_minas_tirith = {
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
		title:e_gondor_steward = {
			transfer_vassals = title:e_gondor
		}
		title:e_gondor_steward = {
			change_title_holder = {
				holder = root
				change = scope:change
			}
		}
		title:e_gondor_steward = {
			every_in_de_jure_hierarchy = {
				limit = { tier = tier_kingdom }
				set_de_jure_liege_title = title:e_gondor
			}
		}
		resolve_title_and_vassal_change = scope:change
		destroy_title = title:d_northern_dunedain 
		destroy_title = title:e_gondor_steward
		trigger_event = {
			id = gondor.0504 
			days = 50
		}
		character:linesteward38 = { # Denethor chooses who he will play as.
			trigger_event = {
				id = gondor.0516
			}
		}
	}
}

gondor.0503 = { # Denethor is overthrown by the citizens of Minas Tirith
	title = gondor.0503.t
	desc = gondor.0503.desc
	theme = stewardship_duty_focus
	left_portrait = {
		character = root
		animation = rage
	}
	
	option = { 
		name = gondor.0503.a 
		character:lineisildur42 = { # Aragorn is allowed into Minas Tirith
			trigger_event = {
				id = gondor.0502
				days = 2
			}
		}
		hidden_effect = { 
			get_title = title:c_osgiliath
		}
	}
}

gondor.0504 = { # Elessar, Aragorn, or Nimruzimir? 
	title = gondor.0504.t
	desc = gondor.0504.desc
	theme = diplomacy_majesty_focus
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { 
		name = gondor.0504.a # Elessar
		change_first_name = "Elessar"
		trigger_event = {
			id = gondor.0506 
			days = 15
		}
		ai_chance = {
			base = 100
		}
	}
	option = { 
		name = gondor.0504.b # I shall remain Aragorn
		trigger_event = {
			id = gondor.0506 
			days = 15
		}
		ai_chance = {
			base = 0
		}
	}
	option = { 
		name = gondor.0504.c # Nimruzimir
		change_first_name = "Nimruzimir"
		trigger_event = {
			id = gondor.0506 
			days = 15
		}
		ai_chance = {
			base = 0
		}
	}
}

### Needs much more work to fuction properly!
#gondor.0505 = { # A new house for a new age?
#	title = gondor.0505.t
#	desc = gondor.0505.desc
#	theme = diplomacy_majesty_focus
#	left_portrait = {
#		character = root
#		animation = personality_honorable
#	}
#	
#	option = { 
#		name = gondor.0505.a # The house of Telcontar shall endure in my kindred.
#		set_house = { house:house_telcontar }
#		trigger_event = {
#			id = gondor.0506 
#			days = 50
#		}
#	}
#	option = { 
#		name = gondor.0505.b # I will remain a member of the house of Isildur
#		trigger_event = {
#			id = gondor.0506 
#			days = 50
#		}
#	}
#}

gondor.0506 = { # A dream from long ago... Will Aragorn marry Arwen?
	title = gondor.0506.t
	desc = gondor.0506.desc
	theme = love
	left_portrait = {
		character = root
		animation = happiness
	}
	
	option = { 
		name = gondor.0506.a # I cannot betray my heart's desire. Marry Arwen.
		remove_trait = celibate	
		remove_trait = cannot_marry
		marry = character:linefinwe30
		trigger_event = {
			id = gondor.0507 
			days = 20
		}
		trigger_event = {
			id = gondor.0508 
			days = 100
		}
		hidden_effect = {
			character:dolamroth31 = {
				remove_trait = cannot_marry
			}
			character:6000035 = {
				remove_trait = cannot_marry
			}
			set_relation_lover = character:linefinwe30
			set_relation_friend = character:linefinwe30
			set_relation_soulmate = character:linefinwe30
		}
		custom_tooltip = gondor.0506.a.tt
		ai_chance = {
			base = 100
		}
	}
	option = { 
		name = gondor.0506.b # Perhaps there is another. Marry Éowyn.
		remove_trait = celibate	
		remove_trait = cannot_marry
		marry = character:6000035
		trigger_event = {
			id = gondor.0507 
			days = 20
		}
		hidden_effect = {
			character:dolamroth31 = {
				remove_trait = cannot_marry
			}
			character:6000035 = {
				remove_trait = cannot_marry
			}
		}
		custom_tooltip = gondor.0506.b.tt
		ai_chance = {
			base = 0
		}
	}
	option = { 
		name = gondor.0506.c # Marry Lothíriel of Dol Amroth.
		remove_trait = celibate	
		remove_trait = cannot_marry
		marry = character:dolamroth31
		trigger_event = {
			id = gondor.0507 
			days = 20
		}
		hidden_effect = {
			character:dolamroth31 = {
				remove_trait = cannot_marry
			}
			character:6000035 = {
				remove_trait = cannot_marry
			}
		}
		custom_tooltip = gondor.0506.c.tt
		ai_chance = {
			base = 0
		}
	}
	option = { 
		name = gondor.0506.d # It was but a dream. Do not marry Arwen.
		remove_trait = celibate
		remove_trait = cannot_marry
		trigger_event = {
			id = gondor.0507 
			days = 20
		}
		hidden_effect = {
			character:dolamroth31 = {
				remove_trait = cannot_marry
			}
			character:6000035 = {
				remove_trait = cannot_marry
			}
		}
		custom_tooltip = gondor.0506.d.tt
		ai_chance = {
			base = 0
		}
	}
}

gondor.0507 = { # The Glory of Gondor Restored
	title = gondor.0507.t
	desc = gondor.0507.desc
	theme = diplomacy_majesty_focus
	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { 
		name = gondor.0507.a # We must now face the Enemy in the east.
		add_prestige = 1250
		add_piety = 500
		add_gold = 500
		spawn_army = {		 
			uses_supply = no
			inheritable = yes
			name = grey_company_force
			men_at_arms = {
				type = grey_company
				stacks = 1
			}
			location = capital_province
		}
	}
}

gondor.0508 = { # Arwen is pregnant!
	title = gondor.0508.t
	desc = gondor.0508.desc
	theme = family
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = love
	}
	
	option = { 
		name = gondor.0508.a 
		character:linefinwe30 = {
			add_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0509 
			days = 270
		}
	}
}

gondor.0509 = { # First Child of Arwen and Aragorn - Eldarion
	title = gondor.0509.t
	desc = gondor.0509.desc
	theme = family
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = admiration
	}
	
	option = { 
		name = gondor.0509.a # His name will be Eldarion!
		create_character = {
			dynasty_house = house_telcontar
			name = "Eldarion"
			faith = root.faith
			culture = root.culture				
			gender_female_chance = 0
			age = 0	
			mother = character:linefinwe30
			father = character:lineisildur42
			employer = character:lineisildur42
		}
		character:linefinwe30 = {
			remove_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0510 
			days = 548
		}
	}
}

gondor.0510 = { # Arwen is pregnant again!
	title = gondor.0510.t
	desc = gondor.0510.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = love
	}
	
	option = { 
		name = gondor.0510.a 
		character:linefinwe30 = {
			add_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0511
			days = 270
		}
	}
}

gondor.0511 = { # Second Child of Arwen and Aragorn - Lúthien
	title = gondor.0511.t
	desc = gondor.0511.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = admiration
	}
	
	option = { 
		name = gondor.0511.a # Her name will be Lúthien!
		create_character = {
			dynasty_house = house_telcontar
			name = "Lúthien"
			faith = root.faith
			culture = root.culture		
			gender_female_chance = 100
			age = 0	
			mother = character:linefinwe30
			father = character:lineisildur42
			employer = character:lineisildur42
		}
		character:linefinwe30 = {
			remove_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0512 
			days = 764
		}
	}
}

gondor.0512 = { # Arwen is pregnant for the third time!
	title = gondor.0512.t
	desc = gondor.0512.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = love
	}
	
	option = { 
		name = gondor.0512.a 
		character:linefinwe30 = {
			add_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0513
			days = 270
		}
	}
}

gondor.0513 = { # Third Child of Arwen and Aragorn - Indis
	title = gondor.0513.t
	desc = gondor.0513.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = admiration
	}
	
	option = { 
		name = gondor.0513.a # Her name will be Indis!
		create_character = {
			dynasty_house = house_telcontar
			name = "Indis"
			faith = root.faith
			culture = root.culture			
			gender_female_chance = 100
			age = 0	
			mother = character:linefinwe30
			father = character:lineisildur42
			employer = character:lineisildur42
		}
		character:linefinwe30 = {
			remove_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0514 
			days = 1112
		}
	}
}

gondor.0514 = { # Arwen is pregnant for the fourth time!
	title = gondor.0514.t
	desc = gondor.0514.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = love
	}
	
	option = { 
		name = gondor.0514.a 
		character:linefinwe30 = {
			add_trait = pregnant 
		}
		trigger_event = {
			id = gondor.0515
			days = 270
		}
	}
}

gondor.0515 = { # Fourth Child of Arwen and Aragorn - Altáriel
	title = gondor.0515.t
	desc = gondor.0515.desc
	theme = pregnancy
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = root.primary_spouse
		animation = admiration
	}
	
	option = { 
		name = gondor.0515.a # Her name will be Altáriel!
		create_character = {
			dynasty_house = house_telcontar
			name = "Altáriel"
			faith = root.faith
			culture = root.culture			
			gender_female_chance = 100
			age = 0	
			mother = character:linefinwe30
			father = character:lineisildur42
			employer = character:lineisildur42
		}
		character:linefinwe30 = {
			remove_trait = pregnant 
		}
	}
}

gondor.0516 = { # Denethor chooses who he will play as.
	title = gondor.0516.t
	desc = gondor.0516.desc
	theme = stewardship_duty_focus
	left_portrait = {
		character = root
		animation = anger
	}
	
	option = { 
		name = gondor.0516.a # I will remain as Denethor
		get_title = k_gondor_steward
		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		character:linesteward38 = {
			change_liege = {
				liege = character:lineisildur42
				change = scope:title_change
			}
		}
		resolve_title_and_vassal_change = scope:title_change
		ai_chance = {
			base = 100
		}
	}
	option = { 
		name = gondor.0516.b # A new age of men. I will become Aragorn!
		get_title = k_gondor_steward
		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		character:linesteward38 = {
			change_liege = {
				liege = character:lineisildur42
				change = scope:title_change
			}
		}
		resolve_title_and_vassal_change = scope:title_change
		set_player_character = character:lineisildur42
		custom_tooltip = gondor.0516.b.tt
		ai_chance = {
			base = 0
		}
	}
}