#########################################
# COLONISATION BLOCKER CLEARANCE EVENTS #
#########################################

###############
## Wolf Den
# wasteland_blocker.0001 — Clearing out the Wolves
## Bear Den
# wasteland_blocker.0011 — Yoh-gi
# wasteland_blocker.0012 — Beargild
## Spider Nest
# wasteland_blocker.0021 — The Great Web
# wasteland_blocker.0021 — Attacop
## Bandits
# wasteland_blocker.0031 — The Outcasts
# wasteland_blocker.0032 — The Corral
## Drakes
# wasteland_blocker.0041 — Life Finds a Way
# wasteland_blocker.0042 — Drakes' Nest

namespace = wasteland_blocker

## Wolf Den
wasteland_blocker.0001 = { # Clearing out the Wolves
	type = character_event
	title = wasteland_blocker.0001.t
	desc = wasteland_blocker.0001.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	right_portrait = {
		character = scope:knight
		animation = war_defender
	}
	
	lower_center_portrait = {
		character = scope:hooked_character
	}

	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
		if = {
			limit = { 
				any_hooked_character = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_hooked_character = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = hooked_character
			}
		}
	}

	option = { # Take them on myself
		name = wasteland_blocker.0001.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0001.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0001.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.failure.toast.t
					add_prestige = -150
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
	}
	
	option = { # Send a skilled knight
		name = wasteland_blocker.0001.b
		trigger = { 
			any_knight = { 
				is_ai = yes
				count > 0
			} 
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0001.b.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							scope:knight = { add_prestige = 100 }
							title = wasteland_blocker.0001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0001.b.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:knight
							title = wasteland_blocker.0001.failure.toast.t
							scope:knight = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
	}
	
	option = { # Send a hooked character
		name = wasteland_blocker.0001.c
		trigger = { 
			any_hooked_character = { 
				is_ai = yes
				count > 0
			}
		}
		use_hook = scope:hooked_character
		scope:hooked_character = {
			duel = {
				skill = prowess 
				value = 10
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 2
						min = -10
					}
					desc = wasteland_blocker.0001.c.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							scope:hooked_character = { add_prestige = 100 }
							title = wasteland_blocker.0001.success.toast.t
							scope:obstacle_province = { remove_building = wolf_den_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -2
						min = -25
					}
					desc = wasteland_blocker.0001.c.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							right_icon = scope:hooked_character
							title = wasteland_blocker.0001.failure.toast.t
							scope:hooked_character = { add_prestige = -150 }
							increase_wounds_effect = { REASON = hunting_accident }
							hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
							scope:obstacle_province = { add_building = wolf_den }
						}
					}
				}
			}
		}
	}
	
	option = { # Hire skilled mercenaries
		name = wasteland_blocker.0001.d
		remove_short_term_gold = 100
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.success.toast.t
					scope:obstacle_province = { remove_building = wolf_den_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0001.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
					scope:obstacle_province = { add_building = wolf_den }
				}
			}
		}
	}
	
	option = { # Leave the wolves alone
		name = wasteland_blocker.0001.e
		hidden_effect = { scope:obstacle_province = { remove_building = wolf_den_cleared } }
		scope:obstacle_province = { add_building = wolf_den }
	}
}

## Bear Den
wasteland_blocker.0011 = { # Yoh-gi
	type = character_event
	title = wasteland_blocker.0011.t
	desc = wasteland_blocker.0011.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Dispatch the ranger expedition
		name = wasteland_blocker.0011.a
		trigger = {
			martial >= prowess
		}
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0011.a.duel_success
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0011.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Dispatch the bear personally
		name = wasteland_blocker.0011.c
		trigger = {
			martial < prowess
		}
		skill = prowess
		duel = {
			skill = prowess 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0011.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 100
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0011.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					add_prestige = -50
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}	
			
	option = { # Pay the smith to build his trap
		name = wasteland_blocker.0011.b
		remove_short_term_gold = 50
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.success.toast.t
					scope:obstacle_province = { remove_building = bear_den_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0011.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
					scope:obstacle_province = { add_building = bear_den }
				}
			}
		}
	}

	option = { # Leave the wolves alone
		name = wasteland_blocker.0011.d
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
	}
}

wasteland_blocker.0012 = { # Beargild
	type = character_event
	title = wasteland_blocker.0012.t
	desc = {
		desc = wasteland_blocker.0012.desc.1
		triggered_desc = { # Evil response to bear cub
			trigger = { 
				faith_is_evil = yes
			} 
			desc = wasteland_blocker.0012.desc.2.evil
		}
		triggered_desc = { # Non-evil response to bear cub
			trigger = { 
				faith_is_evil = no
			} 
			desc = wasteland_blocker.0012.desc.2.good
		}
	}
	theme = hunting

	left_portrait = {
		character = root
		animation = sadness
	}
	
	option = { # I must put it out of its misery
		name = wasteland_blocker.0012.a
		scope:obstacle_province = { remove_building = bear_den_cleared }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = -100
			add_stress = 50
		}
		else = {
			add_stress = -30
		}
	}
			
	option = { # Try to raise the cub
		name = wasteland_blocker.0012.b
		scope:obstacle_province = { remove_building = bear_den_cleared }
		remove_short_term_gold = 75
		random_list = { 
			10 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0012.b.success.toast.t
					add_character_modifier = {
						modifier = pet_bear_modifier
						years = 18
					}
				}
			}
			90 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0012.b.failure.toast.t
				}
			}
		}
	}

	option = { # Leave the cub to fend for itself
		name = wasteland_blocker.0012.c
		hidden_effect = { scope:obstacle_province = { remove_building = bear_den_cleared } }
		scope:obstacle_province = { add_building = bear_den }
		if = {
			limit = {
				OR = {
					faith_is_good = yes
					faith = { has_doctrine = tenet_sanctity_of_nature }
				}
			}
			add_piety = 100
			add_stress = -50
		}
		else = {
			add_stress = 30
		}
	}
}

## Spider Nest
wasteland_blocker.0021 = { # The Great Web
	type = character_event
	title = wasteland_blocker.0021.t
	desc = wasteland_blocker.0021.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = disgust
	}
	
	immediate = {
		if = {
			limit = { 
				any_knight = { 
					is_ai = yes
					count > 0
				}
			}
			ordered_knight = {
				limit = { is_ai = yes }
				order_by = prowess
				save_scope_as = knight
			}
		}
	}

	option = { # Let us take axes to the trees, and swords to whatever survives!
		name = wasteland_blocker.0021.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0021.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 150
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0021.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					add_prestige = -75
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}
			
	option = { # Send for my archers, they'll soon be rid of them.
		name = wasteland_blocker.0021.b
		skill = martial
		duel = {
			skill = martial 
			value = 12
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0021.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0021.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wasteland_blocker.0021.c
		custom_tooltip = wasteland_blocker.0021.c.tt
		scope:obstacle_province = { remove_building = spider_nest_cleared }
		random = {
			chance = 20
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

	option = { # Did I mention I'm arachnophobic?
		name = wasteland_blocker.0021.d
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
	}
}

wasteland_blocker.0022 = { # Attercop
	type = character_event
	title = wasteland_blocker.0022.t
	desc = wasteland_blocker.0022.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:colonist
		animation = fear
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			culture = scope:obstacle_province.culture
			faith = scope:obstacle_province.faith
			location = scope:obstacle_province
			gender_female_chance = 50
			save_scope_as = colonist
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Devote some of my men to purge them.
		name = wasteland_blocker.0022.a
		add_character_modifier = {
			modifier = levies_aiding_colony_modifier
			years = 5
		}
		random_list = { 
			85 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			15 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}
			
	option = { # I will trust this task to hired professionals.
		name = wasteland_blocker.0022.b
		remove_short_term_gold = 100
		random_list = { 
			70 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.success.toast.t
					scope:obstacle_province = { remove_building = spider_nest_cleared }
				}
			}
			30 = {
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0021.failure.toast.t
					hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
					scope:obstacle_province = { add_building = spider_nest }
				}
			}
		}
	}

	option = { # Bring me fire... we'll burn them out!
		name = wasteland_blocker.0022.c
		hidden_effect = { scope:obstacle_province = { remove_building = spider_nest_cleared } }
		scope:obstacle_province = { add_building = spider_nest }
	}

	after = {
		scope:colonist = {
			silent_disappearance_effect = yes
		}
	}	

}

## Bandits
wasteland_blocker.0031 = { # The Outcasts
	type = character_event
	title = wasteland_blocker.0031.t
	desc = {
		desc = wasteland_blocker.0031.desc.1
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0031.desc.2.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0031.desc.2.knight
		}
		triggered_desc = { # Has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0031.desc.3.spymaster
		}
		triggered_desc = { # No has Spymaster
			trigger = { 
				any_intrigue_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0031.desc.3.scholar
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_rational
	}

	right_portrait = {
		character = scope:spymaster
		animation = flirtation
	}

	lower_center_portrait = {
		character = scope:marshal
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
		if = {
			limit = {
				any_intrigue_councillor = {
					count > 0
				}
			}
			random_intrigue_councillor = {
				save_scope_as = spymaster
			}
		}
		else ={
			ordered_courtier = {
				limit = { NOT = { this = scope:marshal } }
				order_by = learning
				save_scope_as = spymaster
			}
		}
	}

	option = { # I don’t care who was there first. Settle this with swords!
		name = wasteland_blocker.0031.a
		skill = martial
		duel = {
			skill = martial 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0031.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0031.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			years = 5
			target = scope:marshal
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			years = 5
			target = scope:spymaster
		}
	}
			
	option = { # Pardon the outlaws and restore them to their lands.
		name = wasteland_blocker.0031.b
		skill = stewardship
		duel = {
			skill = stewardship 
			value = 8
			40 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0031.b.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0031.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
		reverse_add_opinion = {
			modifier = pleased_opinion
			opinion = 20
			years = 5
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -20
			years = 5
			target = scope:marshal
		}
	}

	option = { # I will find the truth of the matter myself...
		name = wasteland_blocker.0031.c
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -1
				}
				desc = wasteland_blocker.0031.c.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						years = 5
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = pleased_opinion
						opinion = 30
						years = 5
						target = scope:marshal
					}
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			40 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -35
				}
				desc = wasteland_blocker.0031.c.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						years = 5
						target = scope:spymaster
					}
					reverse_add_opinion = {
						modifier = disappointed_opinion
						opinion = -30
						years = 5
						target = scope:marshal
					}
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}

	option = { # Leave the bandits alone
		name = wasteland_blocker.0031.d
		hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
		scope:obstacle_province = { add_building = bandits }
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			years = 5
			target = scope:spymaster
		}
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -10
			years = 5
			target = scope:marshal
		}
	}

}

wasteland_blocker.0032 = { # The Corral
	type = character_event
	title = wasteland_blocker.0032.t
	desc = {
		triggered_desc = { # Has Marshal
			trigger = { 
				any_martial_councillor = {
					count > 0
				}
			} 
			desc = wasteland_blocker.0032.desc.marshal
		}
		triggered_desc = { # No has Marshal
			trigger = { 
				any_martial_councillor = {
					count = 0
				}
			} 
			desc = wasteland_blocker.0032.desc.knight
		}
	}
	theme = realm

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	right_portrait = {
		character = scope:marshal
		animation = happiness
	}
	
	immediate = {
		if = {
			limit = {
				any_martial_councillor = {
					count > 0
				}
			}
			random_martial_councillor = {
				save_scope_as = marshal
			}
		}
		else ={
			ordered_courtier = {
				order_by = martial
				save_scope_as = marshal
			}
		}
	}

	option = { # Crush them!
		name = wasteland_blocker.0032.a
		skill = martial
		duel = {
			skill = martial 
			value = 10
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -10
				}
				desc = wasteland_blocker.0032.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 50
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -25
				}
				desc = wasteland_blocker.0032.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -100
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}
			
	option = { # What if they could be persuaded to enlist?
		name = wasteland_blocker.0032.b
		skill = diplomacy
		duel = {
			skill = diplomacy 
			value = 14
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -15
				}
				desc = wasteland_blocker.0032.b.duel_success
				scope:obstacle_province = {
					add_province_modifier = {
						modifier = enlisted_bandits_province_modifier
						years = 30
					}
				}
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.success.toast.t
					scope:obstacle_province = { remove_building = bandits_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -29
				}
				desc = wasteland_blocker.0032.b.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0031.failure.toast.t
					add_prestige = -150
					hidden_effect = { scope:obstacle_province = { remove_building = bandits_cleared } }
					scope:obstacle_province = { add_building = bandits }
				}
			}
		}
	}

	option = { # I suppose I could pay their travel expenses...
		name = wasteland_blocker.0032.c
		remove_short_term_gold = 125
		add_prestige = -25
		scope:obstacle_province = { remove_building = spider_nest_cleared }
	}

}

## Drakes
wasteland_blocker.0041 = { # Life Finds a Way
	type = character_event
	title = wasteland_blocker.0041.t
	desc = wasteland_blocker.0041.desc
	theme = hunting

	left_portrait = {
		character = root
		animation = fear
	}

	right_portrait = {
		character = scope:hammund
		animation = happiness
	}

	override_background = {
		event_background = wilderness_mountains
	}
	
	immediate = {
		create_character = {
			template = peasant_character
			dynasty = none
			name = Hammund
			age = { 80 90 }
			culture = culture:woodmen
			faith = faith:faith_woodmen
			location = scope:obstacle_province
			gender_female_chance = 0
			save_scope_as = hammund
			after_creation = {
				remove_trait = peasant_leader
			}
		}
	}

	option = { # Attempt to slay the drake
		name = wasteland_blocker.0041.a
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wasteland_blocker.0041.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wasteland_blocker.0041.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wasteland_blocker.0041.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0041.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
	}
			
	option = { # Run away!
		name = wasteland_blocker.0041.b
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
		random = {
			chance = 30
			make_settlement_county_wilderness = {
				COUNTY = scope:obstacle_province.county
			}
		}
	}

	after = {
		scope:hammund = {
			death = { death_reason = death_burned }
		}
	}
}

wasteland_blocker.0042 = { # Drakes’ Nest
	type = character_event
	title = wasteland_blocker.0042.t
	desc = wasteland_blocker.0042.desc
	theme = realm

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	right_portrait = {
		character = scope:knight
		animation = personality_bold
	}
	
	immediate = {
		random_knight = {
			limit = { is_ai = yes }
			save_scope_as = knight
		}
	}

	option = { # Succeed and be rewarded!
		name = wasteland_blocker.0042.a
		scope:knight = {
			duel = {
				skill = prowess 
				value = 18
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wasteland_blocker.0042.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 400 }
							pay_short_term_income = {
								target = scope:knight
								years = 1
							}
							title = wasteland_blocker.0041.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wasteland_blocker.0042.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wasteland_blocker.0041.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
	}
			
	option = { # Just do it
		name = wasteland_blocker.0042.b
		reverse_add_opinion = {
			modifier = disappointed_opinion
			opinion = -30
			years = 10
			target = scope:knight
		}
		scope:knight = {
			duel = {
				skill = prowess 
				value = 21
				30 = { 
					compare_modifier = {
						value = scope:duel_value
						multiplier = 3
						min = -20
					}
					desc = wasteland_blocker.0042.a.duel_success
					root = {
						send_interface_toast = {
							left_icon = root
							scope:knight = { add_prestige = 500 }
							title = wasteland_blocker.0041.success.toast.t
							scope:obstacle_province = { remove_building = dragon_attack_cleared }
						}
					}
				}
				30 = {
					compare_modifier = {
						value = scope:duel_value
						multiplier = -3
						min = -25
					}
					desc = wasteland_blocker.0042.a.duel_failure
					root = {
						send_interface_toast = {
							left_icon = root
							title = wasteland_blocker.0041.failure.toast.t
							scope:knight = { death = { death_reason = death_burned } }
							hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
							scope:obstacle_province = { add_building = dragon_attack }
						}
					}
				}
			}
		}
	}

	option = { # I shall do it myself
		name = wasteland_blocker.0042.c
		skill = prowess
		duel = {
			skill = prowess 
			value = 18
			30 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3
					min = -20
				}
				desc = wasteland_blocker.0041.a.duel_success
				send_interface_toast = {
					left_icon = root
					add_prestige = 200
					title = wasteland_blocker.0041.success.toast.t
					scope:obstacle_province = { remove_building = dragon_attack_cleared }
				}
			}
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3
					min = -25
				}
				desc = wasteland_blocker.0041.a.duel_failure
				send_interface_toast = {
					left_icon = root
					title = wasteland_blocker.0041.failure.toast.t
					add_prestige = -100
					increase_wounds_effect = { REASON = hunting_accident }
					hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
					scope:obstacle_province = { add_building = dragon_attack }
				}
			}
		}
	}

	option = { # Not so fast...
		name = wasteland_blocker.0042.d
		hidden_effect = { scope:obstacle_province = { remove_building = dragon_attack_cleared } }
		scope:obstacle_province = { add_building = dragon_attack }
	}

}