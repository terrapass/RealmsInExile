# Events for handling the Sailing and Pirate activities

namespace = sailing

############################
## Random events in port
## 1000-1999
## by Jamie-san
############################
# 1001 - Don't have a boat - charter or buy?
# 1002 - Chartering a boat
# 1003 - Buying a boat
# 1004 - Repairing a boat

# 1005 - Dockyard temptations
# 1007 - Whittle While You Wait
# 1008 - Bar brawl
# 1009 - Drinking competition
# 1010 - The Fortune Teller
# 1011 - Dockyard Delicacies
# 1012 - Seagull Surprise

# 1013 - Rats on the ship!
# 1014 - Contraband discovered in port
# 1015 - Music
# 1016 - Haggling for supplies

#Character does not own a boat - charter or buy?
sailing.1001 = {
	type = character_event
	title = sailing.1001.t
	desc = sailing.1001.desc
	theme = docks
	left_portrait = {
		character = root
		animation = happiness
	}

	option = { # I'll charter a vessel
		name = sailing.1001.a
		trigger_event = sailing.1002
		ai_chance = {
			base = 70
		}
	}
	
	option = { # Actually, let me buy one...
		name = sailing.1001.b
		show_as_unavailable = {
			gold <= small_boat_cost
		}
		trigger_event = sailing.1003
		ai_chance = {
			base = 30
		}
	}
	
	option = { # Wait, what? You mean I need a boat for this?
		name = sailing.1001.c
		scope:activity = {
			complete_activity = yes
		}
		remove_character_flag = planning_an_activity
		remove_decision_cooldown = set_sail_decision
		ai_chance = {
			base = 0
		}
	}
}

#Character HIRES a boat, which one to choose!?
sailing.1002 = {
	type = character_event
	title = sailing.1002.t
	desc = sailing.1002.desc
	theme = docks
	left_portrait = {
		character = root
		animation = personality_rational
	}

	option = { # Small but nimble
		name = sailing.1002.a
		remove_short_term_gold = small_boat_hire_cost
		add_character_modifier = {
			modifier = small_boat_modifier
			years = 1
		}
	}
	
	option = { # A fine vessel
		name = sailing.1002.b
		show_as_unavailable = {
			gold <= medium_boat_hire_cost
		}		
		remove_short_term_gold = medium_boat_hire_cost
		add_character_modifier = {
			modifier = medium_boat_modifier
			years = 1
		}
	}
	
	option = { # A flagship fit for a king
		name = sailing.1002.c
		show_as_unavailable = {
			gold <= large_boat_hire_cost
		}
		remove_short_term_gold = large_boat_hire_cost
		add_character_modifier = {
			modifier = large_boat_modifier
			years = 1
		}
	}
	
	after = {
		trigger_event = {
			on_action = sailing_dockyard_events
		}
	}
}

#Character BUYS a boat, which one to choose!?
sailing.1003 = {
	type = character_event
	title = sailing.1003.t
	desc = sailing.1003.desc
	theme = docks
	left_portrait = {
		character = root
		animation = personality_rational
	}

	option = { # Small but nimble
		name = sailing.1003.a
		remove_short_term_gold = small_boat_cost
		add_character_modifier = small_boat_modifier
	}
	
	option = { # A fine vessel
		name = sailing.1003.b
		show_as_unavailable = {
			gold <= medium_boat_cost
		}
		remove_short_term_gold = medium_boat_cost
		add_character_modifier = medium_boat_modifier
	}
	
	option = { # A flagship fit for a king
		name = sailing.1003.c
		show_as_unavailable = {
			gold <= large_boat_cost
		}
		remove_short_term_gold = large_boat_cost
		add_character_modifier = large_boat_modifier
	}
	
	after = {
		trigger_event = {
			on_action = sailing_dockyard_events
		}
	}
}

#My boat is in a poor state of repair, should I pay to fix it up?
sailing.1004 = {
	type = character_event
	title = sailing.1004.t
	desc = sailing.1004.desc
	theme = docks
	left_portrait = {
		character = root
		animation = disapproval
	}

	trigger = {
		has_damaged_boat = yes
	}

	option = { # Of course, I'm not going out in her like THAT!
		name = sailing.1004.a
		if = {
			limit = { has_character_modifier = small_damaged_boat_modifier }
			remove_short_term_gold = small_boat_repair_cost
			add_character_modifier = small_boat_modifier
			remove_character_modifier = small_damaged_boat_modifier
		}
		else_if = {
			limit = { has_character_modifier = medium_damaged_boat_modifier }
			remove_short_term_gold = medium_boat_repair_cost
			add_character_modifier = medium_boat_modifier
			remove_character_modifier = medium_damaged_boat_modifier
		}
		else_if = {
			limit = { has_character_modifier = large_damaged_boat_modifier }
			remove_short_term_gold = large_boat_repair_cost
			add_character_modifier = large_boat_modifier
			remove_character_modifier = large_damaged_boat_modifier
		}
	}
	
	option = { # Bah! She's still seaworthy.
		name = sailing.1004.b
	}
	
	after = {
		trigger_event = {
			on_action = sailing_dockyard_events
		}
	}
}

#Temptation at the Docks
sailing.1005 = {
	type = character_event
	title = sailing.1005.t
	desc = sailing.1005.desc
	theme = docks
	left_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:hooker
		animation = flirtation
	}

	immediate = {
		add_character_flag = {
			flag = had_event_sailing_1005
			years = 15
		}
		hidden_effect = {
			romance_target_gender_effect = { SCOPE_NAME = romance_target }
			
			create_character = {
				location = scope:sailing_province #root.capital_province
				gender = scope:romance_target
				template = beautiful_peasant_character
				random_traits_list = {
					count = 1
					gregarious = {}
					lustful = {}
					compassionate = {}
					generous = {}
					ambitious = {}
				}
				save_scope_as = hooker
			}
			hidden_effect = {
				scope:hooker = { 
					set_sexuality = bisexual
					set_to_lowborn = yes
				}
				random_list = {
					60 = {
						scope:hooker = { add_trait = seducer }
					}
					40 = {
						scope:hooker = { add_trait = lovers_pox }
					}
				}
			}
		}
	}

	# Take as dock wench/boy
	option = {
		name = sailing.1005.a
		set_relation_lover = scope:hooker
		had_sex_with_effect = {
				CHARACTER = scope:hooker
				PREGNANCY_CHANCE = pregnancy_chance
		}
		remove_short_term_gold = 5
		if = {
			limit = { 
				OR = {
					religion = religion:free_peoples_religion
					faith = { has_doctrine = doctrine_echoes_of_the_ainur }
				}
			}
			hidden_effect = {
				random = {
					chance = 2
					trigger_event = sailing.1006
				}
			}
		}
	}

	# Lay with them
	option = {
		name = sailing.1005.b			
		had_sex_with_effect = {
			CHARACTER = scope:hooker
			PREGNANCY_CHANCE = pregnancy_chance
		}
		remove_short_term_gold = 5	
		if = {
			limit = { 
				OR = {
					religion = religion:free_peoples_religion
					faith = { has_doctrine = doctrine_echoes_of_the_ainur }
				}
			}
			hidden_effect = {
				random = {
					chance = 2
					trigger_event = sailing.1006
				}
			}
		}
	}
	
	# Refuse
	option = {
		name = sailing.1005.c
		add_piety = 20
		stress_impact = {
			chaste = minor_stress_impact_loss
			lustful = minor_stress_impact_gain
		}
	}
}

#A Dagger in the Bedroom - Sauron sends his regards
sailing.1006 = {
	type = character_event
	title = sailing.1006.t
	desc = sailing.1006.desc
	theme = docks
	override_background = {
		event_background = bedchamber
	}
	left_portrait = {
		character = root
		animation = fear
	}
	right_portrait = {
		character = scope:hooker
		animation = scheme
	}

	option = { # A knife!
		name = sailing.1006.a
		custom_tooltip = sailing.1006.a.desc
		duel = {
			skill = prowess 
			value = very_high_skill_rating
			50 = { 
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
					min = -19
				}
				desc = sailing.1006.duel_success
				add_stress = massive_stress_gain
				imprison = {
					target = scope:hooker
					type = dungeon
				}
			}
			100 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -1
					min = -19
				}
				desc = sailing.1006.duel_failure
				death = {
					killer = scope:hooker
					death_reason = death_murder
				}
			}
		}
	}
}

#Whittle While You Wait
sailing.1007 = {
	type = character_event
	title = sailing.1007.t
	desc = sailing.1007.desc
	theme = docks
	left_portrait = {
		character = root
		animation = boredom
	}
	right_portrait = {
		character = scope:whittler
		animation = personality_compassionate
	}

	trigger = {
		scope:activity = {
			has_variable_list = potential_sailing_participants
			any_in_list = {
					variable = potential_sailing_participants
					is_alive = yes
					count >= 1
			}
		}
	}

	immediate = {
		scope:activity = {
			random_in_list = {
				variable = potential_sailing_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = whittler
			}
		}
	}

	option = { # Make something for my child
		name = sailing.1007.a
		trigger = {
			any_child = { age < 16 }
		}
		random = {
			chance = 5
			increase_wounds_no_death_effect = { REASON = accident }
		}
		random_child = {
			limit = { age < 16 }
			add_opinion = {
				modifier = whittled_me_a_gift
				target = root
			}
		}
		stress_impact = {
			diligent = medium_stress_impact_loss
			lazy = minor_stress_impact_loss
		}
	}
	
	option = { # Make something for my lover
		name = sailing.1007.b
		trigger = {
			num_of_relation_lover > 0
		}
		random = {
			chance = 5
			increase_wounds_no_death_effect = { REASON = accident }
		}
		random_relation = {
			type = lover
			add_opinion = {
				modifier = whittled_me_a_gift
				target = root
			}
		}
		stress_impact = {
			diligent = medium_stress_impact_loss
			lazy = minor_stress_impact_loss
		}		
	}
	
	option = { # Make a flute
		name = sailing.1007.c
		trigger = {
			OR = {
				has_trait = poet
				#has_trait = shanty_singer
			}
		}
		random = {
			chance = 10
			increase_wounds_no_death_effect = { REASON = accident }
		}
		add_character_modifier = handcarved_flute
		stress_impact = {
			diligent = medium_stress_impact_loss
			lazy = minor_stress_impact_loss
		}
	}
	
	option = { # Make something trivial
		name = sailing.1007.d
		random = {
			chance = 5
			increase_wounds_no_death_effect = { REASON = accident }
		}
		stress_impact = {
			base = minor_stress_impact_loss
		}		
	}
	
	option = { # I'd rather not...
		name = sailing.1007.e
		add_prestige = miniscule_prestige_gain
		stress_impact = {
			base = minor_stress_impact_gain
		}		
	}
}

#Crewmates in a Bar Brawl
sailing.1008 = {
	type = character_event
	title = sailing.1008.t
	desc = sailing.1008.desc
	theme = docks
	override_background = {
		event_background = tavern
	}
	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:brawler
		animation = anger
	}

	trigger = {
		scope:activity = {
			has_variable_list = potential_sailing_participants
			any_in_list = {
					variable = potential_sailing_participants
					is_alive = yes
					is_ai = yes
					count >= 1
			}
		}
	}

	immediate = {
		scope:activity = {
			random_in_list = {
				variable = potential_sailing_participants
				limit = {
					is_alive = yes
					is_ai = yes
				}
				save_scope_as = brawler
			}
		}
	}
	
	option = { # Try to diffuse the situation
		name = sailing.1008.a
		duel = {
			skill = diplomacy
			value = 10
			50 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = sailing.1008.a.success
				show_as_tooltip = {
					add_prestige = medium_prestige_gain
					reverse_add_opinion = {
						target = scope:brawler
						modifier = respect_opinion
						opinion = low_positive_opinion
					}
				}
			}
			50 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = sailing.1008.a.failure
				show_as_tooltip = {
					add_prestige = minor_prestige_loss
					increase_wounds_effect = { REASON = fight }
					reverse_add_opinion = {
						target = scope:brawler
						modifier = weak_opinion
						opinion = low_negative_opinion
					}
					scope:brawler = {
						increase_wounds_effect = { REASON = fight }
					}
				}
			}
		}
		stress_impact = {
			shy = medium_stress_impact_gain
			callous = minor_stress_impact_gain
			sadistic = medium_stress_impact_gain
		}
	}
	
	option = { # Join in the brawl
		name = sailing.1008.b
		duel = {
			skill = prowess
			value = 15
			50 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = 4
					min = -49
				}
				desc = sailing.1008.b.success
				show_as_tooltip = {
					add_prestige = medium_prestige_gain
					reverse_add_opinion = {
						target = scope:brawler
						modifier = respect_opinion
						opinion = medium_positive_opinion
					}
				}
			}
			50 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = -4
					min = -49
				}
				desc = sailing.1008.b.failure
				show_as_tooltip = {
					add_prestige = minor_prestige_loss
					increase_wounds_effect = { REASON = fight }
					reverse_add_opinion = {
						target = scope:brawler
						modifier = respect_opinion
						opinion = low_positive_opinion
					}
					scope:brawler = {
						increase_wounds_effect = { REASON = fight }
					}
				}
			}
		}
		stress_impact = {
				#Rare opportunity for certain character types to 'blow off some steam' and lose stress here, at risk of wounds.
				wrathful = medium_stress_loss
				vengeful = medium_stress_loss
				sadistic = medium_stress_loss
				craven = major_stress_impact_gain
				calm = medium_stress_impact_gain
				patient = minor_stress_impact_gain
				forgiving = minor_stress_impact_gain
				compassionate = minor_stress_impact_gain
		}
	}
	
	option = { # Leave them to it
		name = sailing.1008.c
		add_prestige = medium_prestige_loss
		reverse_add_opinion = {
			target = scope:brawler
			modifier = refusal_opinion
			opinion = high_negative_opinion
		}
		scope:brawler = {
			increase_wounds_effect = { REASON = fight }
		}
		stress_impact = {
			drunkard = medium_stress_impact_loss
			diligent = minor_stress_impact_gain
			just = minor_stress_impact_gain
			reclusive = minor_stress_impact_loss
		}
	}
	
}

#The Drinking Contest
sailing.1009 = {
	type = character_event
	title = sailing.1009.t
	desc = sailing.1009.desc
	theme = docks
	override_background = {
		event_background = tavern
	}
	left_portrait = {
		character = root
		animation = dismissal
	}
	right_portrait = {
		character = scope:challenger
		animation = personality_bold
	}

	trigger = {
		scope:activity = {
			has_variable_list = potential_sailing_participants
			any_in_list = {
					variable = potential_sailing_participants
					is_alive = yes
					is_ai = yes
					count >= 1
			}
		}
	}

	immediate = {
		scope:activity = {
			random_in_list = {
				variable = potential_sailing_participants
				limit = {
					is_alive = yes
					is_ai = yes	
					prowess > 15					
				}
				alternative_limit = {
					is_alive = yes
					is_ai = yes
					prowess > 10
				}
				alternative_limit = {
					is_alive = yes
					is_ai = yes
				}
				save_scope_as = challenger
			}
		}
	}
	
	option = { # You're on!
		name = sailing.1009.a
		duel = {
			skill = prowess
			target = scope:challenger 
			60 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
					min = -59
				}
				modifier = {
					add = 150
					has_trait = drunkard
				}
				modifier = {
					add = 50
					has_trait = reveler_1
				}
				modifier = {
					add = 100
					has_trait = reveler_2
				}
				modifier = {
					add = 150
					has_trait = reveler_3
				}
				desc = sailing.1009.a.success
				show_as_tooltip = {
					add_gold = 25
					add_prestige = 50
					reverse_add_opinion = {
						target = scope:challanger
						modifier = respect_opinion
						opinion = low_positive_opinion
					}
				}
			}
			60 = {		
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
					min = -59
				}
				modifier = {
					add = 150
					scope:challenger = { has_trait = drunkard }
				}
				modifier = {
					add = 50
					scope:challenger = { has_trait = reveler_1 }
				}
				modifier = {
					add = 100
					scope:challenger = { has_trait = reveler_2 }
				}
				modifier = {
					add = 150
					scope:challenger = { has_trait = reveler_3 }
				}
				desc = sailing.1009.a.failure
				show_as_tooltip = {
					remove_short_term_gold = 25
					add_prestige = -50
					reverse_add_opinion = {
						target = scope:challanger
						modifier = weak_opinion
						opinion = low_negative_opinion
					}
				}
			}
		}
		stress_impact = {
			shy = minor_stress_impact_gain
			drunkard = medium_stress_impact_loss
			reveler = minor_stress_impact_loss
		}
	}
	
	option = { # I'd rather not...
		name = sailing.1009.b
		add_prestige = minor_prestige_loss
		stress_impact = {
			arrogant = minor_stress_impact_gain
			gregarious = minor_stress_impact_gain
			drunkard = medium_stress_impact_gain
			reveler = medium_stress_impact_gain
		}
	}
}

#The Fortune Teller
sailing.1010 = {
	type = character_event
	title = sailing.1010.t
	desc = sailing.1010.desc
	theme = docks
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:mystic
		animation = flirtation
	}

	trigger = {
		NOR = {
			has_character_modifier = good_omen_modifier
			has_character_modifier = bad_omen_modifier
		}
	}

	immediate = {
		hidden_effect = {
			create_character = {
				location = scope:sailing_province
				culture = root.culture
				gender = female
				age = { 70 90 }
				trait = mystic_1
				random_traits = yes
				faith = root.faith
				learning = { 5 10 }
				random_traits_list = {
					count = 1
					mystic_1 = {}
					mystic_2 = {}
					mystic_3 = {}
				}
				save_scope_as = mystic
			}
			scope:mystic = { 
				set_to_lowborn = yes
			}
		}
	}
	
	option = { # Let me hear what lies in my future!
		name = sailing.1010.a
		remove_short_term_gold = 20
		random_list = {
			55 = {
				desc = sailing.1010.a.success
				send_interface_toast = {
					title = sailing.1010.a.success.t
					left_icon = root
					add_character_modifier = {
						modifier = good_omen_modifier
						years = 10
					}
				}
			}
			45 = {
				desc = sailing.1010.a.failure
				send_interface_toast = {
					title = sailing.1010.a.failure.t
					left_icon = root
					add_character_modifier = {
						modifier = bad_omen_modifier
						years = 10
					}
				}
			}
		}
		stress_impact = {
			cynical = minor_stress_impact_gain
			greedy = miniscule_stress_impact_gain
		}
	}
	
	option = { # I'd rather not...
		name = sailing.1010.b
		stress_impact = {
			paranoid = minor_stress_impact_gain
			mystic = minor_stress_impact_gain
			witch = minor_stress_impact_gain
			arbitrary = miniscule_stress_impact_gain
		}
	}
	
	after = {
		hidden_effect = {
			scope:mystic = {
				death = { death_reason = death_disappearance }
			}
		}
	}	
}

#Dockyard Delicacies
sailing.1011 = {
	type = character_event
	title = sailing.1011.t
	desc = sailing.1011.desc
	theme = docks
	left_portrait = {
		character = root
		animation = disgust
	}
	right_portrait = {
		character = scope:fellow_diner
		animation = happiness
	}

	trigger = {
		scope:activity = {
			has_variable_list = potential_sailing_participants
			any_in_list = {
					variable = potential_sailing_participants
					is_alive = yes
					count >= 1
			}
		}
	}

	immediate = {
		scope:activity = {
			random_in_list = {
				variable = potential_sailing_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = fellow_diner
			}
		}
	}

	option = { # Well I guess if you tried it!
		name = sailing.1011.a
		random_list = {
			45 = {
				desc = sailing.1011.a.success
				modifier = {
					add = 20
					has_trait = physique_good_1
				}
				modifier = {
					add = 40
					has_trait = physique_good_2
				}
				modifier = {
					add = 60
					has_trait = physique_good_3
				}
				modifier = {
					add = 20
					has_trait = strong
				}
				modifier = {
					add = 20
					has_trait = gluttonous
				}
				modifier = {
					add = 20
					has_trait = comfort_eater
				}
				send_interface_toast = {
					title = sailing.1011.a.success.t
					left_icon = root
					add_character_modifier = {
						modifier = ate_good_meal
						days = 365
					}
				}
			}
			30 = {
				desc = sailing.1011.a.too_spicy
				send_interface_toast = {
					title = sailing.1011.a.too_spicy.t
					left_icon = root
				}
				stress_impact = {
					base = minor_stress_impact_gain
				}					
			}
			25 = {
				desc = sailing.1011.a.failure
				modifier = {
					add = 20
					has_trait = physique_bad_1
				}
				modifier = {
					add = 40
					has_trait = physique_bad_2
				}
				modifier = {
					add = 60
					has_trait = physique_bad_3
				}
				modifier = {
					add = 20
					has_trait = weak
				}
				modifier = {
					add = 20
					has_trait = temperate
				}
				modifier = {
					add = 20
					has_trait = inappetetic
				}
				send_interface_toast = {
					title = sailing.1011.a.failure.t
					left_icon = root
					add_character_modifier = {
						modifier = got_food_poisoning
						days = 365
					}
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		reverse_add_opinion = {
			target = scope:fellow_diner
			modifier = pleased_opinion
			opinion = low_positive_opinion
		}
		add_prestige = 25
		remove_short_term_gold = 10 
		stress_impact = {
			inappetetic = medium_stress_impact_gain
			craven = minor_stress_impact_gain
			temperate = minor_stress_impact_gain
			paranoid = minor_stress_impact_gain
			comfort_eater = medium_stress_impact_loss
			gluttonous = minor_stress_impact_loss
		}		
	}
	
	option = { # I'll pass...
		name = sailing.1011.b
		reverse_add_opinion = {
			target = scope:fellow_diner
			modifier = disappointed_opinion
			opinion = low_negative_opinion
		}
		add_prestige = -25
		stress_impact = {
			comfort_eater = medium_stress_impact_gain
			gluttonous = minor_stress_impact_gain
			brave = minor_stress_impact_gain
			inappetetic = medium_stress_impact_loss
			temperate = minor_stress_impact_loss
		}
	}
	
}

#Seagull Surprise!
sailing.1012 = {
	type = character_event
	title = sailing.1012.t
	desc = sailing.1012.desc
	theme = docks
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:laugher
		animation = happiness
	}

	trigger = {
		scope:activity = {
			has_variable_list = potential_sailing_participants
			any_in_list = {
					variable = potential_sailing_participants
					is_alive = yes
					count >= 1
			}
		}
	}

	immediate = {
		scope:activity = {
			random_in_list = {
				variable = potential_sailing_participants
				limit = {
					is_alive = yes
				}
				save_scope_as = laugher
			}
		}
	}

	option = { # I suppose it is rather funny!
		name = sailing.1012.a
		add_prestige = -50
		add_dread = medium_dread_loss
		reverse_add_opinion = {
			target = scope:laugher
			modifier = amused_opinion
			opinion = low_positive_opinion
		}
	}
	
	option = { # Have them whipped
		name = sailing.1012.b
		if = {
			limit = { scope:laugher = { highest_held_title_tier > tier_barony } }
			add_dread = medium_dread_gain
			set_relation_rival = scope:laugher
		}
		else = {
			add_dread = minor_dread_gain
		}
		scope:laugher = {
			increase_wounds_effect = { REASON = whipping }
			add_opinion = {
				target = root
				modifier = angry_opinion
				opinion = medium_negative_opinion
			}
		}
		stress_impact = {
			compassionate = medium_stress_impact_gain
			calm = minor_stress_impact_gain
			sadistic = minor_stress_impact_loss
		}
	}
		
}

############################
## Random events at sea
## 2000-2999
## by Jamie-san
############################

#An invitation to play dice
sailing.2001 = {
	type = character_event
	title = sailing.2001.t
	desc = sailing.2001.desc
	#theme = at_sea
	left_portrait = root
	#right_portrait = scope:gambling_sailor_1

	#trigger = {
	#	scope:activity = {
	#		has_variable_list = potential_sailing_participants
	#		any_in_list = {
	#				variable = potential_sailing_participants
	#				is_alive = yes
	#				count >= 1
	#		}
	#	}
	#}
	#
	#immediate = {
	#	scope:activity = {
	#		random_in_list = {
	#			variable = potential_sailing_participants
	#			limit = {
	#				is_alive = yes
	#			}
	#			alternative_limit = {
	#				is_powerful_vassal = yes
	#			}
	#			save_scope_as = gambling_sailor_1
	#		}
	#		set_variable = {
	#			name = participant_to_use
	#			value = scope:gambling_sailor_1
	#			days = 300
	#		}
	#	}
	#}

	option = { # Sure, I'll play some dice
		name = sailing.2001.a
		add_prestige = minor_prestige_gain
		stress_impact = {
			greedy = minor_stress_impact_loss
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 40
				OR = {
					has_trait = greedy
					has_trait = gregarious
				}
			}
		}
	}

	option = { # You won't catch me gambling!
		name = sailing.2001.b
		add_prestige = minor_prestige_loss
		stress_impact = {
			greedy = medium_stress_impact_gain
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 40
				OR = {
					has_trait = generous
					has_trait = shy
				}
			}
		}
	}

	after = {
		trigger_event = {
			id = sailing.9001 #To complete the activity
			days = { 14 20 }
		}	
	}

}

############################
## Random events in port
## 9000-9999
## by Jamie-san
############################

#Back home
sailing.9001 = {
	type = character_event
	title = sailing.9001.t
	desc = sailing.9001.desc
	#theme = at_sea
	left_portrait = root

	option = { # I'm back!
		name = sailing.9001.a
	}

	after = {
		#End the activity
		if = {
			limit = {
				exists = scope:activity
			}
			scope:activity = {
				complete_activity = yes
			}
		}	
	}

}